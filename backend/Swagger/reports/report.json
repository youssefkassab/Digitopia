{
  "collection": {
    "_": {
      "postman_id": "digitopia-collection-0001"
    },
    "item": [
      {
        "id": "d6204608-10f5-47bf-ba91-42821f97f8d7",
        "name": "Orchestration",
        "item": [
          {
            "id": "2c79f064-2029-4fc9-a069-4e06d6f0351d",
            "name": "Admin Login (Start)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4054393f-f2e8-4581-b2d4-86a8e1475806",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.expect(j).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('adminToken', j.token);"
                  ],
                  "_lastExecutionId": "c2950d11-a12d-4fa5-a1e5-9ba833749c7a"
                }
              }
            ]
          },
          {
            "id": "5ff6e7df-7556-485d-a4cd-3ae3c8042bdd",
            "name": "Ensure Manager Signup",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\",\n  \"national_number\": \"MNGR{{$timestamp}}\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "d1e2a8d7-03bc-4ede-8d5e-bdee7254b485",
                  "type": "text/javascript",
                  "exec": [
                    "if (!pm.environment.get('managerEmail') || pm.environment.get('managerEmail').endsWith('@example.com')) { pm.environment.set('managerEmail','manager+'+Date.now()+'@example.com'); }"
                  ],
                  "_lastExecutionId": "e16f114d-765a-496c-a233-538d3410aeb2"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "179aa24f-cdf5-467b-8fa2-2a383576b6cf",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                  ],
                  "_lastExecutionId": "bebc727a-79ee-46dc-8917-b9fdf687aee5"
                }
              }
            ]
          },
          {
            "id": "23728ddc-2604-4305-a4a6-8dcc518fc032",
            "name": "Manager Login (Capture managerId)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4270d91e-2e0f-4ceb-a256-da598ecb6b51",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('managerToken', j.token);"
                  ],
                  "_lastExecutionId": "b36722ed-d0b7-43ae-b137-36befa4ce07a"
                }
              }
            ]
          },
          {
            "id": "76a53451-a2db-472f-bdc2-1e4852a27508",
            "name": "Get Manager Profile -> managerId",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "7838abd2-8963-457e-8d00-cda2ac53632d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.environment.set('managerId', j.id); pm.environment.set('targetUserId', j.id);"
                  ],
                  "_lastExecutionId": "8963bb2f-29b6-4b8d-aea7-57d556cd5777"
                }
              }
            ]
          },
          {
            "id": "2e000b10-e1bd-46ed-bb2f-4a2dfdeff625",
            "name": "Admin Upgrade Manager -> Teacher (No-op when direct teacher signup)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "05a98ad7-f8c0-4dba-981c-f2318cd0fa07",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "167e8c4b-562f-40a0-862d-eed4b26bfc1d"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "ddeae9db-9089-482c-a205-ae6c862c718e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Admin token valid (200)', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "f8c1ec48-ba5b-4e60-b09b-2fb95db271e7"
                }
              }
            ]
          },
          {
            "id": "a4d48b54-9bbc-4bcb-9c4c-23b858d2bd1b",
            "name": "Ensure User Signup",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\",\n  \"national_number\": \"USER{{$timestamp}}\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "1d4ae47d-2c14-482a-8080-fbfc440880a9",
                  "type": "text/javascript",
                  "exec": [
                    "if (!pm.environment.get('userEmail') || pm.environment.get('userEmail').endsWith('@example.com')) { pm.environment.set('userEmail','user+'+Date.now()+'@example.com'); }"
                  ],
                  "_lastExecutionId": "51c33309-a502-4a7f-8cf8-de4fe8cc6f37"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "0bdfc498-1c77-421b-a489-b740f0ccfcd0",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                  ],
                  "_lastExecutionId": "d7499c4a-6d77-495b-bf25-c518e2fceeaf"
                }
              }
            ]
          },
          {
            "id": "585e5b0e-5c13-4cc9-98ae-a257287b827f",
            "name": "User Login (Capture userId)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "7500c491-c1e9-4079-97d2-d1cd67a4f903",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('userToken', j.token);"
                  ],
                  "_lastExecutionId": "13200342-1294-43d0-b357-c025054233f1"
                }
              }
            ]
          },
          {
            "id": "18dbdd20-cb85-4154-ab2d-24c793bfd0a3",
            "name": "Get User Profile -> userId",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e970883c-b00c-464f-9765-557aaf6cea60",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.environment.set('userId', j.id);"
                  ],
                  "_lastExecutionId": "197ffe2d-068a-499c-8dd3-a0aead5b09aa"
                }
              }
            ]
          },
          {
            "id": "97935f59-d897-4ec1-861c-a0415136ad36",
            "name": "Admin Login (Ready for tests)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "09f70503-ba6f-4e07-9e0f-1ef8d21552cc",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                  ],
                  "_lastExecutionId": "bee29bc2-b1d6-4c79-8b42-75242ae9b013"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "f13d515f-2d6a-4a68-b474-af6669033dd0",
        "name": "Auth",
        "item": [
          {
            "id": "ca6a1f87-29c5-44d0-975b-de88e29cc8fd",
            "name": "Admin Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "042396db-0a91-4630-b65c-c7bd48969e35",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json();",
                    "pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token);",
                    "pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "c235d906-fdb1-4650-afdb-743144c302f4"
                }
              }
            ]
          },
          {
            "id": "9b92e1a8-b72c-44fb-8136-c63997de0ae1",
            "name": "Manager Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e15df053-2f34-48a5-a7b2-16d1745de878",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "e7143c95-47ab-481b-ac55-e412148f0180"
                }
              }
            ]
          },
          {
            "id": "ea658dfb-a00a-43f5-b26b-ea8b272f5ad1",
            "name": "User Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e651795f-14f4-4cfc-bd61-436c046cbe10",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "42fba7ad-10f2-46fb-906a-44c5ee883c39"
                }
              }
            ]
          },
          {
            "id": "a76e46e2-7bef-4e80-a59d-08436b22880d",
            "name": "Signup - Positive",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+{{$timestamp}}@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT{{$timestamp}}\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "8b98bb81-97ef-4b09-9852-4dc324ed5bcf",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 201/409/400/500 acceptable', function () { pm.expect([201,409,400,500]).to.include(pm.response.code); });",
                    "pm.test('Has message or error', function(){ var j={}; try{j=pm.response.json()}catch(e){}; pm.expect(j).to.be.an('object'); });"
                  ],
                  "_lastExecutionId": "0f7acb50-3266-4bc5-aca2-4756db94c0c6"
                }
              }
            ]
          },
          {
            "id": "b1a329f9-c6b2-4cd7-9d55-e6845ee22c22",
            "name": "Signup - Duplicate Email (Negative)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP{{$timestamp}}\",\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "55ac4496-3b7d-4d6e-a886-8e210b8c08f8",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 409', function () { pm.response.to.have.status(409); });"
                  ],
                  "_lastExecutionId": "5bb91250-ad1b-4984-ab4d-e07eb2767b06"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "f1c74400-5cd8-4479-8824-6459e6d32ea8",
        "name": "Users",
        "item": [
          {
            "id": "af04d078-26fd-47e6-885c-87190984c648",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "754d8b97-188d-42bf-b991-6a85425b309f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "3b7b22e7-1606-4a2f-8fd0-d4e2a7018050"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "56012b12-fa31-4172-8902-01f06ce2d060",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "345459fa-d2dd-4342-8b20-1ddf3a88feb6"
                }
              }
            ]
          },
          {
            "id": "ebfb2dd2-09a8-4379-9f3c-676dbceaf3cc",
            "name": "Get Current User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "c9e956a4-5de4-4bd0-a2e4-4a12a48c9507",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var j = pm.response.json(); pm.expect(j).to.have.property('id'); pm.expect(j).to.have.property('email');"
                  ],
                  "_lastExecutionId": "2abde0d0-70fc-426c-9447-48cabbd89340"
                }
              }
            ]
          },
          {
            "id": "ccabf4d0-d89e-4518-a855-67e39ae97987",
            "name": "Upgrade Role - Admin Success",
            "request": {
              "url": {
                "path": [
                  "users",
                  "upgradeRole"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"teacher\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f7cdc38c-ce34-4eb6-8eaa-433898e7b411",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200 or 403 (env-dependent admin)', function(){ pm.expect([200,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "a49cfca2-6187-44b5-8e5f-c6799426fce3"
                }
              }
            ]
          },
          {
            "id": "217059fa-f507-43a8-8950-de06f39b58b9",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "1a42d4ef-723d-4ad6-a25c-3dd5a4dd8f2d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "8a04004f-cae1-41d1-b57d-86e40e886e0a"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "98b68fc8-f9ff-4f4b-9164-690ea0924bc2",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "29850ea7-4e90-49cc-89f4-d72cbe03e3d5"
                }
              }
            ]
          },
          {
            "id": "b5b8fc31-b97c-4ecf-96be-3ebbb5158447",
            "name": "Upgrade Role - User Forbidden",
            "request": {
              "url": {
                "path": [
                  "users",
                  "upgradeRole"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"admin\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "98ac270e-73d4-4ef4-9005-b249bb1a05d1",
                  "type": "text/javascript",
                  "exec": [
                    "// ensure user token in place by logging in as User via previous Auth->User Login before running this"
                  ],
                  "_lastExecutionId": "79be731a-51e4-46d2-bbda-c32a10eafd57"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "291a3634-1c1a-48cf-af09-ed79bd3e85e7",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Forbidden for non-admin', function(){ pm.expect([401,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "cc8802ff-c90a-41f8-8704-d384decc6b83"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "547ff500-da6b-460a-97ce-64293cc00cf6",
        "name": "Courses",
        "item": [
          {
            "id": "8f2769c8-0829-4840-85be-58977c2edb74",
            "name": "Switch -> Manager",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                  ],
                  "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
                }
              }
            ]
          },
          {
            "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
            "name": "Public - Get All Courses",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "all"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                    "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                  ],
                  "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
                }
              }
            ]
          },
          {
            "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
            "name": "Manager - Create Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "create"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
                }
              }
            ]
          },
          {
            "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
                }
              }
            ]
          },
          {
            "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
            "name": "Admin - Create Course for Teacher",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "create"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
                }
              }
            ]
          },
          {
            "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
            "name": "Switch -> Manager",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                  ],
                  "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "96df3524-af71-4c6a-9696-660875e492e1",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
                }
              }
            ]
          },
          {
            "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
            "name": "Manager - Get My Courses",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "teacher",
                  "mycourses"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "c55fa651-e328-4292-895f-3070efc33b92",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                    "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                  ],
                  "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
                }
              }
            ]
          },
          {
            "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
            "name": "Pick Other Course (teacher_id != managerId)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "all"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                  "type": "text/javascript",
                  "exec": [
                    "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                  ],
                  "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
                }
              }
            ]
          },
          {
            "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
            "name": "Manager - Find Own Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "find",
                  "{{myCourseId}}"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                    "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                  ],
                  "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
                }
              }
            ]
          },
          {
            "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
            "name": "Manager - Find Other's Course (Negative)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "find",
                  "{{otherCourseId}}"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                  ],
                  "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
                }
              }
            ]
          },
          {
            "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
            "name": "Manager - Update Course (Fields)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
                }
              }
            ]
          },
          {
            "id": "62399524-516f-44c8-a65d-8d7a34994521",
            "name": "Manager - Update Course (Tags Only)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
                }
              }
            ]
          },
          {
            "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
            "name": "Manager - Delete Own Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
                }
              }
            ]
          },
          {
            "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
                }
              }
            ]
          },
          {
            "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
            "name": "Admin - Delete Any Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{otherCourseId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
                }
              }
            ]
          },
          {
            "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
            "name": "Get Tags",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "tags"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
                }
              }
            ]
          },
          {
            "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
            "name": "Create Tag (Manager/Admin)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "tag"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "41cbbfd3-86fb-4685-b6ba-e2324b488811",
        "name": "Messages",
        "item": [
          {
            "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
                }
              }
            ]
          },
          {
            "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
            "name": "Send Message (as logged-in user)",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "send"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                    "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                  ],
                  "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
                }
              }
            ]
          },
          {
            "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
                }
              }
            ]
          },
          {
            "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
            "name": "Admin - Get All Messages",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "receiveAll"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
                }
              }
            ]
          },
          {
            "id": "c9127848-fea8-4ffc-9872-312f353c6966",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
                }
              }
            ]
          },
          {
            "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
            "name": "My Messages",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "MyMessages"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
                }
              }
            ]
          },
          {
            "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
            "name": "Update My Message",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PATCH",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
                }
              }
            ]
          },
          {
            "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                  "type": "text/javascript",
                  "exec": [
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                  ],
                  "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
                }
              }
            ]
          },
          {
            "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
            "name": "Admin - Mark Seen",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "seen"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PATCH",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
                }
              }
            ]
          },
          {
            "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
            "name": "Delete My Message (Any Owner)",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
                }
              }
            ]
          }
        ],
        "event": []
      }
    ],
    "auth": {
      "type": "bearer",
      "bearer": [
        {
          "type": "string",
          "value": "{{authToken}}",
          "key": "token"
        }
      ]
    },
    "event": [],
    "variable": [],
    "info": {
      "_postman_id": "digitopia-collection-0001",
      "name": "Digitopia Full API Collection",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2025-09-22T07:30:00.000Z",
      "postman_exported_using": "Cascade-Generator"
    },
    "id": "digitopia-env-0001",
    "name": "API Test Environment",
    "values": [
      {
        "type": "any",
        "value": "http://localhost:3000/api",
        "key": "baseUrl"
      },
      {
        "type": "any",
        "value": "youssefkassab2006@gmail.com",
        "key": "adminEmail"
      },
      {
        "type": "any",
        "value": "Password@123456",
        "key": "adminPassword"
      },
      {
        "type": "any",
        "value": "manager+1758644357514@example.com",
        "key": "managerEmail"
      },
      {
        "type": "any",
        "value": "Manager12345!",
        "key": "managerPassword"
      },
      {
        "type": "any",
        "value": "user+1758644358479@example.com",
        "key": "userEmail"
      },
      {
        "type": "any",
        "value": "User12345!",
        "key": "userPassword"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzY1LCJleHAiOjE3NTg2NDc5NjV9.M5KtcwhOFANXHc8oC-QWCfDxjozjxJ0RR7Bku6M8jnM",
        "key": "authToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU3LCJleHAiOjE3NTg2NDc5NTd9.5t7XkmvGGAi9aFkAFliigVmAWcuNyg6CO-fWBLPBaXQ",
        "key": "adminToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
        "key": "managerToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNTksImV4cCI6MTc1ODY0Nzk1OX0.qmCqcthSIWWEMRVdl2IrV6EA3tZOnyZLjQaywCwUTgk",
        "key": "userToken"
      },
      {
        "type": "any",
        "value": "",
        "key": "myCourseId"
      },
      {
        "type": "any",
        "value": 21,
        "key": "otherCourseId"
      },
      {
        "type": "any",
        "value": "",
        "key": "tagId"
      },
      {
        "type": "any",
        "value": "",
        "key": "messageIdMine"
      },
      {
        "type": "any",
        "value": "",
        "key": "messageIdOther"
      },
      {
        "type": "any",
        "value": 80,
        "key": "targetUserId"
      },
      {
        "type": "any",
        "value": 80,
        "key": "managerId"
      },
      {
        "type": "any",
        "value": 81,
        "key": "userId"
      }
    ]
  },
  "globals": {
    "id": "eb99dbe7-0367-423e-9365-b951fce66c92",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 59,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 48,
        "pending": 0,
        "failed": 8
      },
      "testScripts": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 13,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 109.23913043478261,
      "responseMin": 2,
      "responseMax": 648,
      "responseSd": 114.40131209011334,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1758644356771,
      "completed": 1758644365203
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 46,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8dc88aa4-bdf2-4f8e-96b4-b66684119e65",
          "httpRequestId": "2960d3bd-0625-494e-bed7-55a66a951867"
        },
        "item": {
          "id": "2c79f064-2029-4fc9-a069-4e06d6f0351d",
          "name": "Admin Login (Start)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4054393f-f2e8-4581-b2d4-86a8e1475806",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.expect(j).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('adminToken', j.token);"
                ],
                "_lastExecutionId": "c2950d11-a12d-4fa5-a1e5-9ba833749c7a"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "45d4a20a-9e86-487e-a038-96198f2c4a29",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "19729c66-4750-46b1-82fd-3923e4f15768",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "99"
            },
            {
              "key": "RateLimit-Reset",
              "value": "900"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-kZuF4YhFM0R5b3g5CQeypYO3Sb8\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:17 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              51,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              99,
              53,
              78,
              84,
              100,
              57,
              46,
              53,
              116,
              55,
              88,
              107,
              109,
              118,
              71,
              71,
              65,
              105,
              57,
              97,
              70,
              107,
              65,
              70,
              108,
              105,
              105,
              103,
              86,
              109,
              65,
              87,
              99,
              117,
              78,
              121,
              103,
              54,
              67,
              79,
              45,
              102,
              87,
              66,
              76,
              80,
              66,
              97,
              88,
              81,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 648,
          "responseSize": 320
        },
        "id": "2c79f064-2029-4fc9-a069-4e06d6f0351d",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "c7930a27-f135-478b-831e-ebd8babeb3e2",
          "length": 46,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "716b1445-adc7-456a-bb03-179720ea2260"
        },
        "item": {
          "id": "5ff6e7df-7556-485d-a4cd-3ae3c8042bdd",
          "name": "Ensure Manager Signup",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\",\n  \"national_number\": \"MNGR{{$timestamp}}\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d1e2a8d7-03bc-4ede-8d5e-bdee7254b485",
                "type": "text/javascript",
                "exec": [
                  "if (!pm.environment.get('managerEmail') || pm.environment.get('managerEmail').endsWith('@example.com')) { pm.environment.set('managerEmail','manager+'+Date.now()+'@example.com'); }"
                ],
                "_lastExecutionId": "e16f114d-765a-496c-a233-538d3410aeb2"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "179aa24f-cdf5-467b-8fa2-2a383576b6cf",
                "type": "text/javascript",
                "exec": [
                  "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                ],
                "_lastExecutionId": "bebc727a-79ee-46dc-8917-b9fdf687aee5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU3LCJleHAiOjE3NTg2NDc5NTd9.5t7XkmvGGAi9aFkAFliigVmAWcuNyg6CO-fWBLPBaXQ",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "93544603-381b-4c10-92d0-e1256fb5428d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "182",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"manager+1758644357514@example.com\",\n  \"password\": \"Manager12345!\",\n  \"national_number\": \"MNGR1758644358\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU3LCJleHAiOjE3NTg2NDc5NTd9.5t7XkmvGGAi9aFkAFliigVmAWcuNyg6CO-fWBLPBaXQ",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "98763dcd-a9cf-4c89-a337-4ff767920863",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "98"
            },
            {
              "key": "RateLimit-Reset",
              "value": "900"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:17 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 294,
          "responseSize": 40
        },
        "id": "5ff6e7df-7556-485d-a4cd-3ae3c8042bdd",
        "assertions": [
          {
            "assertion": "201/409/400/429 acceptable",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "5e681a74-853c-4885-9893-534f49e2e509",
          "length": 46,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "b08f744e-82f8-48e9-96a3-bc0ecb7b604a"
        },
        "item": {
          "id": "23728ddc-2604-4305-a4a6-8dcc518fc032",
          "name": "Manager Login (Capture managerId)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4270d91e-2e0f-4ceb-a256-da598ecb6b51",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('managerToken', j.token);"
                ],
                "_lastExecutionId": "b36722ed-d0b7-43ae-b137-36befa4ce07a"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU3LCJleHAiOjE3NTg2NDc5NTd9.5t7XkmvGGAi9aFkAFliigVmAWcuNyg6CO-fWBLPBaXQ",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3375098e-9208-4301-91cd-aaa0478a8e60",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "81",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"manager+1758644357514@example.com\",\n  \"password\": \"Manager12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU3LCJleHAiOjE3NTg2NDc5NTd9.5t7XkmvGGAi9aFkAFliigVmAWcuNyg6CO-fWBLPBaXQ",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "91b2b6fd-054b-4d7a-96c6-b1c8c05392dc",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "97"
            },
            {
              "key": "RateLimit-Reset",
              "value": "899"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "339"
            },
            {
              "key": "ETag",
              "value": "W/\"153-AGwUYY9+SYjf4GJD+wn7s6ZzMro\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:18 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              65,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              98,
              87,
              70,
              117,
              89,
              87,
              100,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              51,
              78,
              84,
              69,
              48,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              82,
              108,
              89,
              87,
              78,
              111,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              81,
              122,
              78,
              84,
              103,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              48,
              78,
              122,
              107,
              49,
              79,
              72,
              48,
              46,
              50,
              87,
              74,
              107,
              90,
              81,
              118,
              70,
              100,
              97,
              122,
              71,
              80,
              114,
              69,
              116,
              69,
              88,
              70,
              95,
              70,
              87,
              97,
              86,
              103,
              114,
              71,
              122,
              72,
              102,
              75,
              45,
              89,
              83,
              55,
              89,
              85,
              119,
              108,
              53,
              100,
              117,
              69,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              48,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              55,
              53,
              49,
              52,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 180,
          "responseSize": 339
        },
        "id": "23728ddc-2604-4305-a4a6-8dcc518fc032",
        "assertions": [
          {
            "assertion": "Login 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "54c07963-dac2-472f-95a1-5abc9542c405",
          "length": 46,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "a4a30d38-404a-4e6b-a00f-bcfa07fd4d1b"
        },
        "item": {
          "id": "76a53451-a2db-472f-bdc2-1e4852a27508",
          "name": "Get Manager Profile -> managerId",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7838abd2-8963-457e-8d00-cda2ac53632d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.environment.set('managerId', j.id); pm.environment.set('targetUserId', j.id);"
                ],
                "_lastExecutionId": "8963bb2f-29b6-4b8d-aea7-57d556cd5777"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b87ad7c0-fce2-4c62-bf1b-a5ac01b49d10",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "9bff4bf7-7f1c-4e27-b474-14f7957ffaba",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "140"
            },
            {
              "key": "ETag",
              "value": "W/\"8c-WALUlLS4bf+aXt5cTN+7NMuJm5I\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:18 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              48,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              77,
              97,
              110,
              97,
              103,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              55,
              53,
              49,
              52,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              77,
              78,
              71,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              49,
              48,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 108,
          "responseSize": 140
        },
        "id": "76a53451-a2db-472f-bdc2-1e4852a27508",
        "assertions": [
          {
            "assertion": "200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "c27bae41-b25f-41f4-8d66-54a8b4c8efba",
          "length": 46,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "87916ae7-59e9-4674-bfd0-702ab64c12c3"
        },
        "item": {
          "id": "2e000b10-e1bd-46ed-bb2f-4a2dfdeff625",
          "name": "Admin Upgrade Manager -> Teacher (No-op when direct teacher signup)",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "05a98ad7-f8c0-4dba-981c-f2318cd0fa07",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "167e8c4b-562f-40a0-862d-eed4b26bfc1d"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ddeae9db-9089-482c-a205-ae6c862c718e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Admin token valid (200)', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "f8c1ec48-ba5b-4e60-b09b-2fb95db271e7"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e9261aa2-d8a7-4285-b126-2ff4a3d1e672",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "74642278-cd25-4555-9ac4-98e7acb7fc30",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "140"
            },
            {
              "key": "ETag",
              "value": "W/\"8c-WALUlLS4bf+aXt5cTN+7NMuJm5I\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:18 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              48,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              77,
              97,
              110,
              97,
              103,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              55,
              53,
              49,
              52,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              77,
              78,
              71,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              49,
              48,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 140
        },
        "id": "2e000b10-e1bd-46ed-bb2f-4a2dfdeff625",
        "assertions": [
          {
            "assertion": "Admin token valid (200)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "0a159838-0c0a-4305-855f-28e3acc6cb5a",
          "length": 46,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "2540ddc5-0711-493c-bf7f-1695b02ad928"
        },
        "item": {
          "id": "a4d48b54-9bbc-4bcb-9c4c-23b858d2bd1b",
          "name": "Ensure User Signup",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\",\n  \"national_number\": \"USER{{$timestamp}}\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "1d4ae47d-2c14-482a-8080-fbfc440880a9",
                "type": "text/javascript",
                "exec": [
                  "if (!pm.environment.get('userEmail') || pm.environment.get('userEmail').endsWith('@example.com')) { pm.environment.set('userEmail','user+'+Date.now()+'@example.com'); }"
                ],
                "_lastExecutionId": "51c33309-a502-4a7f-8cf8-de4fe8cc6f37"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "0bdfc498-1c77-421b-a489-b740f0ccfcd0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                ],
                "_lastExecutionId": "d7499c4a-6d77-495b-bf25-c518e2fceeaf"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2ef8f6a9-1d83-4cd4-83fe-3e53d1a4bed3",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "169",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"user+1758644358479@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"USER1758644358\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "86db5557-437c-4ee4-826b-78cd73738274",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "96"
            },
            {
              "key": "RateLimit-Reset",
              "value": "899"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:18 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 300,
          "responseSize": 40
        },
        "id": "a4d48b54-9bbc-4bcb-9c4c-23b858d2bd1b",
        "assertions": [
          {
            "assertion": "201/409/400/429 acceptable",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b78d1bb7-59cc-4161-adb0-7de50f0d8ad9",
          "length": 46,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "377270d5-6f46-4579-83dc-7cf215b59d7c"
        },
        "item": {
          "id": "585e5b0e-5c13-4cc9-98ae-a257287b827f",
          "name": "User Login (Capture userId)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7500c491-c1e9-4079-97d2-d1cd67a4f903",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('userToken', j.token);"
                ],
                "_lastExecutionId": "13200342-1294-43d0-b357-c025054233f1"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "73c6b61c-52d7-4c8b-8409-2e213f48970d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "75",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"user+1758644358479@example.com\",\n  \"password\": \"User12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNTgsImV4cCI6MTc1ODY0Nzk1OH0.2WJkZQvFdazGPrEtEXF_FWaVgrGzHfK-YS7YUwl5duE",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "0dc802ad-36e3-410b-8c0b-d824292eae34",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "95"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "325"
            },
            {
              "key": "ETag",
              "value": "W/\"145-MYm4DJ0E7VxLniP9K0FNfkZIOxk\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:19 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              69,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              100,
              88,
              78,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              52,
              78,
              68,
              99,
              53,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              86,
              122,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              81,
              122,
              78,
              84,
              107,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              48,
              78,
              122,
              107,
              49,
              79,
              88,
              48,
              46,
              113,
              109,
              67,
              113,
              99,
              116,
              104,
              83,
              73,
              87,
              87,
              69,
              77,
              82,
              86,
              100,
              108,
              50,
              73,
              114,
              86,
              54,
              69,
              65,
              51,
              116,
              90,
              79,
              110,
              121,
              90,
              76,
              106,
              81,
              97,
              121,
              119,
              67,
              119,
              85,
              84,
              103,
              107,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 187,
          "responseSize": 325
        },
        "id": "585e5b0e-5c13-4cc9-98ae-a257287b827f",
        "assertions": [
          {
            "assertion": "Login 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "023b12f0-6fe1-4bce-902c-dfbfdb381c74",
          "length": 46,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "784b7be2-c61e-4183-8dd8-acd47953a292"
        },
        "item": {
          "id": "18dbdd20-cb85-4154-ab2d-24c793bfd0a3",
          "name": "Get User Profile -> userId",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e970883c-b00c-464f-9765-557aaf6cea60",
                "type": "text/javascript",
                "exec": [
                  "pm.test('200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.environment.set('userId', j.id);"
                ],
                "_lastExecutionId": "197ffe2d-068a-499c-8dd3-a0aead5b09aa"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNTksImV4cCI6MTc1ODY0Nzk1OX0.qmCqcthSIWWEMRVdl2IrV6EA3tZOnyZLjQaywCwUTgk",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "cd62ab96-0b4b-4c4a-9331-501d6de3fe6e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNTksImV4cCI6MTc1ODY0Nzk1OX0.qmCqcthSIWWEMRVdl2IrV6EA3tZOnyZLjQaywCwUTgk",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "2f46a3e5-be03-4b2f-8a8d-5f4ca70361ce",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:19 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "18dbdd20-cb85-4154-ab2d-24c793bfd0a3",
        "assertions": [
          {
            "assertion": "200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "8be2a4af-839e-4c9b-b07b-647c3c52f898",
          "length": 46,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "fe82ca00-0bc5-4aad-94f1-2ab5f8bb9c23"
        },
        "item": {
          "id": "97935f59-d897-4ec1-861c-a0415136ad36",
          "name": "Admin Login (Ready for tests)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "09f70503-ba6f-4e07-9e0f-1ef8d21552cc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                ],
                "_lastExecutionId": "bee29bc2-b1d6-4c79-8b42-75242ae9b013"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNTksImV4cCI6MTc1ODY0Nzk1OX0.qmCqcthSIWWEMRVdl2IrV6EA3tZOnyZLjQaywCwUTgk",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4ca6e709-a43f-4bd8-aee6-070c11cb5448",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNTksImV4cCI6MTc1ODY0Nzk1OX0.qmCqcthSIWWEMRVdl2IrV6EA3tZOnyZLjQaywCwUTgk",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "1e6f40cb-d1f3-4809-946e-a23801896a04",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "94"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-TDV4357zNIT6VvGSVzDNVXaaL7g\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:19 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              53,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              99,
              53,
              78,
              84,
              108,
              57,
              46,
              52,
              66,
              104,
              101,
              121,
              82,
              95,
              97,
              119,
              108,
              86,
              75,
              100,
              71,
              71,
              105,
              75,
              117,
              118,
              45,
              113,
              49,
              69,
              80,
              79,
              85,
              90,
              98,
              68,
              121,
              87,
              100,
              51,
              81,
              120,
              97,
              89,
              81,
              68,
              80,
              107,
              83,
              73,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 184,
          "responseSize": 320
        },
        "id": "97935f59-d897-4ec1-861c-a0415136ad36",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "ce37b5f1-2296-4c3e-aa07-a2c64be14490",
          "length": 46,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "03efe019-1af8-4ab5-907d-c0771ad930ae"
        },
        "item": {
          "id": "ca6a1f87-29c5-44d0-975b-de88e29cc8fd",
          "name": "Admin Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "042396db-0a91-4630-b65c-c7bd48969e35",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json();",
                  "pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token);",
                  "pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "c235d906-fdb1-4650-afdb-743144c302f4"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU5LCJleHAiOjE3NTg2NDc5NTl9.4BheyR_awlVKdGGiKuv-q1EPOUZbDyWd3QxaYQDPkSI",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "125b73d6-d46f-419e-9b47-1fa429aa6cbf",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU5LCJleHAiOjE3NTg2NDc5NTl9.4BheyR_awlVKdGGiKuv-q1EPOUZbDyWd3QxaYQDPkSI",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "a432c1f9-ec98-4540-9d53-dc51ad11a848",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "93"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-TDV4357zNIT6VvGSVzDNVXaaL7g\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:19 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              53,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              99,
              53,
              78,
              84,
              108,
              57,
              46,
              52,
              66,
              104,
              101,
              121,
              82,
              95,
              97,
              119,
              108,
              86,
              75,
              100,
              71,
              71,
              105,
              75,
              117,
              118,
              45,
              113,
              49,
              69,
              80,
              79,
              85,
              90,
              98,
              68,
              121,
              87,
              100,
              51,
              81,
              120,
              97,
              89,
              81,
              68,
              80,
              107,
              83,
              73,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 180,
          "responseSize": 320
        },
        "id": "ca6a1f87-29c5-44d0-975b-de88e29cc8fd",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "8446960c-6e8f-4896-8a1d-645c365c99ac",
          "length": 46,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "9ae0db3b-aaf9-4f17-80a6-19bbaf559513"
        },
        "item": {
          "id": "9b92e1a8-b72c-44fb-8136-c63997de0ae1",
          "name": "Manager Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e15df053-2f34-48a5-a7b2-16d1745de878",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "e7143c95-47ab-481b-ac55-e412148f0180"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU5LCJleHAiOjE3NTg2NDc5NTl9.4BheyR_awlVKdGGiKuv-q1EPOUZbDyWd3QxaYQDPkSI",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "faa471d5-564f-4ff6-8177-4b3fd77d9bb5",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "81",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"manager+1758644357514@example.com\",\n  \"password\": \"Manager12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzU5LCJleHAiOjE3NTg2NDc5NTl9.4BheyR_awlVKdGGiKuv-q1EPOUZbDyWd3QxaYQDPkSI",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "6b5184b0-8748-491a-854a-be9493f62722",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "92"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "339"
            },
            {
              "key": "ETag",
              "value": "W/\"153-X6C69s9v0aU3Vcui7u+v4P1tmEg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:20 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              65,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              98,
              87,
              70,
              117,
              89,
              87,
              100,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              51,
              78,
              84,
              69,
              48,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              82,
              108,
              89,
              87,
              78,
              111,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              81,
              122,
              78,
              106,
              65,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              48,
              78,
              122,
              107,
              50,
              77,
              72,
              48,
              46,
              54,
              79,
              95,
              71,
              104,
              66,
              55,
              75,
              118,
              107,
              56,
              120,
              57,
              108,
              95,
              82,
              74,
              55,
              95,
              97,
              120,
              48,
              90,
              71,
              119,
              111,
              108,
              77,
              90,
              56,
              45,
              83,
              121,
              103,
              95,
              53,
              111,
              50,
              113,
              71,
              109,
              52,
              103,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              48,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              55,
              53,
              49,
              52,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 191,
          "responseSize": 339
        },
        "id": "9b92e1a8-b72c-44fb-8136-c63997de0ae1",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "e86587c8-1464-418a-9857-5fe1beca9d15",
          "length": 46,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "c55b33e9-4472-4dd0-ae01-237355922dcd"
        },
        "item": {
          "id": "ea658dfb-a00a-43f5-b26b-ea8b272f5ad1",
          "name": "User Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e651795f-14f4-4cfc-bd61-436c046cbe10",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "42fba7ad-10f2-46fb-906a-44c5ee883c39"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.6O_GhB7Kvk8x9l_RJ7_ax0ZGwolMZ8-Syg_5o2qGm4g",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "0ca1e3b7-a6a8-4859-8b05-c95d816a4824",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "75",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"user+1758644358479@example.com\",\n  \"password\": \"User12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODAsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ0MzU3NTE0QGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.6O_GhB7Kvk8x9l_RJ7_ax0ZGwolMZ8-Syg_5o2qGm4g",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "88e1c859-948b-4952-bdbf-f01390f7fe59",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "91"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "325"
            },
            {
              "key": "ETag",
              "value": "W/\"145-rUqUXQCfRCscZiSRS+4jSzn6LiU\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:20 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              69,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              100,
              88,
              78,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              85,
              52,
              78,
              68,
              99,
              53,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              86,
              122,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              81,
              122,
              78,
              106,
              65,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              48,
              78,
              122,
              107,
              50,
              77,
              72,
              48,
              46,
              89,
              118,
              106,
              66,
              100,
              119,
              69,
              81,
              117,
              88,
              81,
              112,
              97,
              84,
              120,
              53,
              86,
              77,
              103,
              106,
              109,
              45,
              106,
              85,
              75,
              108,
              117,
              114,
              72,
              57,
              73,
              77,
              113,
              102,
              76,
              105,
              99,
              112,
              71,
              72,
              82,
              77,
              111,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 187,
          "responseSize": 325
        },
        "id": "ea658dfb-a00a-43f5-b26b-ea8b272f5ad1",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "5d103736-04ee-4a44-8ec7-cff617211a7e",
          "length": 46,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "9dc5f562-4851-453b-9f1d-af9e92e52aec"
        },
        "item": {
          "id": "a76e46e2-7bef-4e80-a59d-08436b22880d",
          "name": "Signup - Positive",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+{{$timestamp}}@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT{{$timestamp}}\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8b98bb81-97ef-4b09-9852-4dc324ed5bcf",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201/409/400/500 acceptable', function () { pm.expect([201,409,400,500]).to.include(pm.response.code); });",
                  "pm.test('Has message or error', function(){ var j={}; try{j=pm.response.json()}catch(e){}; pm.expect(j).to.be.an('object'); });"
                ],
                "_lastExecutionId": "0f7acb50-3266-4bc5-aca2-4756db94c0c6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "9dbb4e83-3fff-44a3-be52-67d2728b9332",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "165",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+1758644360@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT1758644360\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "cfdf1f1d-536c-4810-87e7-61bfeae08a03",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "90"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:20 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 287,
          "responseSize": 40
        },
        "id": "a76e46e2-7bef-4e80-a59d-08436b22880d",
        "assertions": [
          {
            "assertion": "Status 201/409/400/500 acceptable",
            "skipped": false
          },
          {
            "assertion": "Has message or error",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "9127c8ab-45fc-4766-94aa-0be60cda1e4c",
          "length": 46,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "ca52805f-ee47-436c-bbd4-cfd2ed3730ba"
        },
        "item": {
          "id": "b1a329f9-c6b2-4cd7-9d55-e6845ee22c22",
          "name": "Signup - Duplicate Email (Negative)",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP{{$timestamp}}\",\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "55ac4496-3b7d-4d6e-a886-8e210b8c08f8",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 409', function () { pm.response.to.have.status(409); });"
                ],
                "_lastExecutionId": "5bb91250-ad1b-4984-ab4d-e07eb2767b06"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6f8807f9-15fa-4d10-9a2e-c84af2be6e6b",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "151",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP1758644361\",\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "3446885b-7950-4718-bd45-00df58df6750",
          "status": "Conflict",
          "code": 409,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "89"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "32"
            },
            {
              "key": "ETag",
              "value": "W/\"20-R3itzQwmnR1Gj/otOwtMwb15SQQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:20 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              97,
              108,
              114,
              101,
              97,
              100,
              121,
              32,
              101,
              120,
              105,
              115,
              116,
              115,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 32
        },
        "id": "b1a329f9-c6b2-4cd7-9d55-e6845ee22c22",
        "assertions": [
          {
            "assertion": "Status is 409",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "5e228498-3e11-47e6-96a0-a2d253687a7a",
          "length": 46,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "28098250-776f-4000-b689-78f1ede73646"
        },
        "item": {
          "id": "af04d078-26fd-47e6-885c-87190984c648",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "754d8b97-188d-42bf-b991-6a85425b309f",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "3b7b22e7-1606-4a2f-8fd0-d4e2a7018050"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "56012b12-fa31-4172-8902-01f06ce2d060",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "345459fa-d2dd-4342-8b20-1ddf3a88feb6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ec2201b8-1773-4d53-a8a7-4553a83cf97c",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "2d2d037a-62a9-4b3f-b011-c4f4dc477b01",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "af04d078-26fd-47e6-885c-87190984c648",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "e7ebb508-9154-47dc-96f6-bd50099514ea",
          "length": 46,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "d0f88d47-74fc-46d5-9812-abf465347fbd"
        },
        "item": {
          "id": "ebfb2dd2-09a8-4379-9f3c-676dbceaf3cc",
          "name": "Get Current User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c9e956a4-5de4-4bd0-a2e4-4a12a48c9507",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var j = pm.response.json(); pm.expect(j).to.have.property('id'); pm.expect(j).to.have.property('email');"
                ],
                "_lastExecutionId": "2abde0d0-70fc-426c-9447-48cabbd89340"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "37acf0cc-0ed4-42ec-8d37-569029be8f9a",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "11fc2ea5-bd92-4f8d-9229-58e3cb1058b1",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "ebfb2dd2-09a8-4379-9f3c-676dbceaf3cc",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b7aedbb4-6d8d-468d-be89-26d2baf8fe1c",
          "length": 46,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "6f07ddb0-af86-4384-8cce-e20c0b3a616e"
        },
        "item": {
          "id": "ccabf4d0-d89e-4518-a855-67e39ae97987",
          "name": "Upgrade Role - Admin Success",
          "request": {
            "url": {
              "path": [
                "users",
                "upgradeRole"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"teacher\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f7cdc38c-ce34-4eb6-8eaa-433898e7b411",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200 or 403 (env-dependent admin)', function(){ pm.expect([200,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "a49cfca2-6187-44b5-8e5f-c6799426fce3"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "upgradeRole"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "22ddbeec-56ad-4cad-bc03-d826decebe6e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "35",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 80,\n  \"role\": \"teacher\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "0939830d-a0ba-4843-80ff-fd67bc87e8e7",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 6,
          "responseSize": 49
        },
        "id": "ccabf4d0-d89e-4518-a855-67e39ae97987",
        "assertions": [
          {
            "assertion": "Status 200 or 403 (env-dependent admin)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b650401a-dfda-447f-9a3e-09e0c0542f1b",
          "length": 46,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "5611b817-7702-4cdc-962a-36facc7cd5fb"
        },
        "item": {
          "id": "217059fa-f507-43a8-8950-de06f39b58b9",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "1a42d4ef-723d-4ad6-a25c-3dd5a4dd8f2d",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "8a04004f-cae1-41d1-b57d-86e40e886e0a"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "98b68fc8-f9ff-4f4b-9164-690ea0924bc2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "29850ea7-4e90-49cc-89f4-d72cbe03e3d5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "7bc98cf1-6404-46a0-89e6-2a38853a3ca8",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "8064b2ee-ad6a-4af2-9de9-01517cb5c967",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "217059fa-f507-43a8-8950-de06f39b58b9",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "834d4179-244a-4e0e-8f58-047ad43da94e",
          "length": 46,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "45df4c9d-99ad-4f32-bee0-f20539310894"
        },
        "item": {
          "id": "b5b8fc31-b97c-4ecf-96be-3ebbb5158447",
          "name": "Upgrade Role - User Forbidden",
          "request": {
            "url": {
              "path": [
                "users",
                "upgradeRole"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"admin\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "98ac270e-73d4-4ef4-9005-b249bb1a05d1",
                "type": "text/javascript",
                "exec": [
                  "// ensure user token in place by logging in as User via previous Auth->User Login before running this"
                ],
                "_lastExecutionId": "79be731a-51e4-46d2-bbda-c32a10eafd57"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "291a3634-1c1a-48cf-af09-ed79bd3e85e7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Forbidden for non-admin', function(){ pm.expect([401,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "cc8802ff-c90a-41f8-8704-d384decc6b83"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "upgradeRole"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "71d99c03-c9a7-4517-8470-cb280f8b12ba",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "33",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 80,\n  \"role\": \"admin\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "522a40af-c3eb-4e20-93b8-647b19c38e6c",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 5,
          "responseSize": 49
        },
        "id": "b5b8fc31-b97c-4ecf-96be-3ebbb5158447",
        "assertions": [
          {
            "assertion": "Forbidden for non-admin",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "f27ab93b-253c-4e6c-9444-8d62cabee2bd",
          "length": 46,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "45644642-6094-4858-a0e1-2de649ffbeb6"
        },
        "item": {
          "id": "8f2769c8-0829-4840-85be-58977c2edb74",
          "name": "Switch -> Manager",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                ],
                "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1b078253-d932-4821-8d7d-07c41d648bd2",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "76dd7e09-ffa8-4450-9ff5-05a65f7aa370",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "8f2769c8-0829-4840-85be-58977c2edb74",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "6f18529c-2137-4c98-aaa9-10651b77d4b9",
          "length": 46,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "e42b2917-ac8a-47e5-bc81-ec28129ac0cd"
        },
        "item": {
          "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
          "name": "Public - Get All Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "all"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                ],
                "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "all"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c727772d-2347-46bf-ac01-e77a55fa1a9b",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "06ee51da-db52-4676-8825-a2c56ec31738",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "635"
            },
            {
              "key": "ETag",
              "value": "W/\"27b-JqBBbDh5NZTzOc6tOsmpK8dyRGo\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              106,
              104,
              102,
              115,
              107,
              106,
              104,
              102,
              107,
              106,
              104,
              115,
              107,
              106,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              48,
              48,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              51,
              55,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              50,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              100,
              102,
              107,
              106,
              115,
              107,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              100,
              115,
              107,
              106,
              102,
              107,
              106,
              115,
              100,
              98,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              53,
              54,
              53,
              52,
              54,
              52,
              54,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              49,
              54,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              56,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              57,
              48,
              65,
              100,
              118,
              97,
              110,
              99,
              101,
              100,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              32,
              50,
              48,
              50,
              53,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              68,
              101,
              101,
              112,
              32,
              100,
              105,
              118,
              101,
              32,
              105,
              110,
              116,
              111,
              32,
              109,
              111,
              100,
              101,
              114,
              110,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              48,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              56,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              57,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              65,
              100,
              109,
              105,
              110,
              32,
              68,
              101,
              115,
              99,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              49,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              48,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              50,
              106,
              50,
              53,
              65,
              100,
              118,
              97,
              110,
              99,
              101,
              100,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              68,
              101,
              101,
              112,
              32,
              100,
              105,
              118,
              101,
              32,
              105,
              110,
              116,
              111,
              32,
              109,
              111,
              100,
              101,
              114,
              110,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              49,
              50,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              56,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 110,
          "responseSize": 635
        },
        "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          },
          {
            "assertion": "Response is array",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "1574a4a8-79ac-45b0-bfa0-1bfb00f4a9a6",
          "length": 46,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "9c245344-3e7a-4acf-91a3-b57ea7347815"
        },
        "item": {
          "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
          "name": "Manager - Create Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "create"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "create"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1ff6aa6f-293b-4165-a713-4c00f9b47bb8",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "86",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Course 638\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "47555cbe-5deb-434d-a7d0-df51850ec74f",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "88"
            },
            {
              "key": "RateLimit-Reset",
              "value": "895"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 5,
          "responseSize": 58
        },
        "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
        "assertions": [
          {
            "assertion": "Created 201 or 403 (role mismatch)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "a41df9e4-b041-49d9-8973-f04dd870362c",
          "length": 46,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "c7fafbec-5377-49bf-9753-0b4a02c419ea"
        },
        "item": {
          "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c1d25dd8-a723-4f8c-a93b-0f0e60b10daf",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "29217492-34bb-456c-909d-9ed467498524",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 106,
          "responseSize": 130
        },
        "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "5b83dacc-fe2c-4a3c-a3c7-232d71016391",
          "length": 46,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "29377287-ad3a-4a17-8a43-8e97d3af26f4"
        },
        "item": {
          "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
          "name": "Admin - Create Course for Teacher",
          "request": {
            "url": {
              "path": [
                "courses",
                "create"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "create"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4097c14f-4d51-4dd4-8a48-3e496aa27ad6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "101",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Admin Course 211\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": 80\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "1375a06d-978e-4b43-a37e-4eee05888241",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "87"
            },
            {
              "key": "RateLimit-Reset",
              "value": "895"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 58
        },
        "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
        "assertions": [
          {
            "assertion": "Created 201 or 403 (admin can create for teacher)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "6a77a9bb-d152-4ad3-9150-a3d8a0244a34",
          "length": 46,
          "cycles": 1,
          "position": 24,
          "iteration": 0,
          "httpRequestId": "ee3b8d7c-e2bd-4523-8b58-57887a005845"
        },
        "item": {
          "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
          "name": "Switch -> Manager",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                ],
                "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "96df3524-af71-4c6a-9696-660875e492e1",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e9b95d18-a9d4-4435-9c71-07890770987d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "32a32080-e43a-401e-95bc-cbd224e793fd",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "fc790334-9e67-44ec-a6da-ba0c0d332653",
          "length": 46,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "3ec0c7b5-1ffb-4f95-b050-9b3f8289353c"
        },
        "item": {
          "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
          "name": "Manager - Get My Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "teacher",
                "mycourses"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55fa651-e328-4292-895f-3070efc33b92",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                ],
                "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "teacher",
              "mycourses"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "488b7a91-c50f-4db1-8725-9c25c87349fe",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "3ebd581d-e7e8-49b9-9cf1-c20178919218",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 58
        },
        "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:26)"
            }
          },
          {
            "assertion": "Capture myCourseId owned by manager",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "287387f9-2f62-4eb0-973f-07c0e4d5d3a1",
          "length": 46,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "142542d2-ce5b-4f94-a776-7185c282bbbb"
        },
        "item": {
          "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
          "name": "Pick Other Course (teacher_id != managerId)",
          "request": {
            "url": {
              "path": [
                "courses",
                "all"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                "type": "text/javascript",
                "exec": [
                  "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                ],
                "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "all"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e363f2d5-2276-4c36-9397-2c450d274249",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "bbf99735-614a-4a64-9734-477d20d2210e",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "635"
            },
            {
              "key": "ETag",
              "value": "W/\"27b-JqBBbDh5NZTzOc6tOsmpK8dyRGo\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              106,
              104,
              102,
              115,
              107,
              106,
              104,
              102,
              107,
              106,
              104,
              115,
              107,
              106,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              48,
              48,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              51,
              55,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              50,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              100,
              102,
              107,
              106,
              115,
              107,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              100,
              115,
              107,
              106,
              102,
              107,
              106,
              115,
              100,
              98,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              53,
              54,
              53,
              52,
              54,
              52,
              54,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              49,
              54,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              56,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              57,
              48,
              65,
              100,
              118,
              97,
              110,
              99,
              101,
              100,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              32,
              50,
              48,
              50,
              53,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              68,
              101,
              101,
              112,
              32,
              100,
              105,
              118,
              101,
              32,
              105,
              110,
              116,
              111,
              32,
              109,
              111,
              100,
              101,
              114,
              110,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              48,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              56,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              57,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              65,
              100,
              109,
              105,
              110,
              32,
              68,
              101,
              115,
              99,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              49,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              48,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              50,
              106,
              50,
              53,
              65,
              100,
              118,
              97,
              110,
              99,
              101,
              100,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              68,
              101,
              101,
              112,
              32,
              100,
              105,
              118,
              101,
              32,
              105,
              110,
              116,
              111,
              32,
              109,
              111,
              100,
              101,
              114,
              110,
              32,
              74,
              97,
              118,
              97,
              83,
              99,
              114,
              105,
              112,
              116,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              49,
              50,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              56,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 635
        },
        "id": "febb29dc-f150-4eb5-929a-0793518b2d33"
      },
      {
        "cursor": {
          "ref": "a4856d6b-1782-47e2-85c2-48c9a2792396",
          "length": 46,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "d550fa70-71df-4c80-8334-c630cbdf0acc"
        },
        "item": {
          "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
          "name": "Manager - Find Own Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{myCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                  "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                ],
                "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "find",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e768d9a0-8ce5-4a1c-ad63-0cce641f8309",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "27117229-de38-4570-ad1f-026f6708303a",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "21"
            },
            {
              "key": "ETag",
              "value": "W/\"15-bm7tJgu8FHlq5QU+Y6gDxOGPfRc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              78,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 21
        },
        "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
        "assertions": [
          {
            "assertion": "Own course lookup behaves",
            "skipped": false
          },
          {
            "assertion": "Has id when myCourseId is set",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "4451fca6-eca3-4bd5-bb9d-9ffb122f9221",
          "length": 46,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "069beec8-edad-449f-8c56-586d23d6d56e"
        },
        "item": {
          "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
          "name": "Manager - Find Other's Course (Negative)",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{otherCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                ],
                "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "find",
              "21"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "40cd9f31-656c-4811-b51e-6e8743b38508",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "87162721-67a3-4043-befc-7e3145aec691",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": []
          },
          "cookie": [],
          "responseTime": 105,
          "responseSize": 0
        },
        "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
        "assertions": [
          {
            "assertion": "Negative when different owner else OK",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Negative when different owner else OK",
              "message": "expected [ 404, 500 ] to include 200",
              "stack": "AssertionError: expected [ 404, 500 ] to include 200\n   at Object.eval sandbox-script.js:1:29)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b94d4c67-3e6c-4aaf-ac09-4aacf599448b",
          "length": 46,
          "cycles": 1,
          "position": 29,
          "iteration": 0,
          "httpRequestId": "6acfef49-fd02-4d8e-9f3b-3a7579b424ba"
        },
        "item": {
          "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
          "name": "Manager - Update Course (Fields)",
          "request": {
            "url": {
              "path": [
                "courses",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "959aeceb-835d-4a44-83b6-fd0ea5de7a4d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "38",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"name\": \"Updated Name\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "e4d174dc-085a-4580-a0e7-13d3d03e3da1",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "88"
            },
            {
              "key": "ETag",
              "value": "W/\"58-CAH2qtg9k9mIqj7tex4q0UuLGwU\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              110,
              97,
              109,
              101,
              92,
              34,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 8,
          "responseSize": 88
        },
        "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
        "assertions": [
          {
            "assertion": "Update fields on own course",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "a3e261fc-16a3-4271-bc04-14258df21b6b",
          "length": 46,
          "cycles": 1,
          "position": 30,
          "iteration": 0,
          "httpRequestId": "7bebc7b3-3510-4658-9bf2-dee8dc62ecdd"
        },
        "item": {
          "id": "62399524-516f-44c8-a65d-8d7a34994521",
          "name": "Manager - Update Course (Tags Only)",
          "request": {
            "url": {
              "path": [
                "courses",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "bbd6dcdf-e4b7-495e-aada-1f94a42d8d2d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "31",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"tags\": [1,3,5]\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "d2c68ed7-b65d-411e-8024-70c97b016302",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "88"
            },
            {
              "key": "ETag",
              "value": "W/\"58-ez5tdo/tsxqRA7aD3KuGDMcBAcA\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              116,
              97,
              103,
              115,
              92,
              34,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 3,
          "responseSize": 88
        },
        "id": "62399524-516f-44c8-a65d-8d7a34994521",
        "assertions": [
          {
            "assertion": "Update tags on own course",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "78ef142b-7596-4e8d-85da-859e05d46fb0",
          "length": 46,
          "cycles": 1,
          "position": 31,
          "iteration": 0,
          "httpRequestId": "98443423-1363-4337-9fe0-d97321d443f4"
        },
        "item": {
          "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
          "name": "Manager - Delete Own Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "64e51fd4-e9fe-4517-adde-e43d814ff311",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "cefb9bb7-0aaa-48bc-80b8-4d2bd2a9e377",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 72
        },
        "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
        "assertions": [
          {
            "assertion": "Delete own course (requires id)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "5728d8c2-701e-4cfe-9e4e-2398daad4f77",
          "length": 46,
          "cycles": 1,
          "position": 32,
          "iteration": 0,
          "httpRequestId": "97f1e273-b962-4a0c-bbce-fff1a01eb20e"
        },
        "item": {
          "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "eb79e516-2c0d-4ca2-91d2-7c4c75ecb8ab",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "d3dd5514-2562-44f7-9baa-d9e8832638ea",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 130
        },
        "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "964022a2-fa5c-431d-9e12-c1ce1b53c358",
          "length": 46,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "b70c4803-cd5b-443c-9cde-721fd20e2257"
        },
        "item": {
          "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
          "name": "Admin - Delete Any Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{otherCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a750f980-821c-4d3c-b41c-a34b315118f6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "14",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 21\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "60f3da41-d535-41dc-bf4b-6382ec49d7bb",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 5,
          "responseSize": 58
        },
        "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
        "assertions": [
          {
            "assertion": "Status 200/404/500",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200/404/500",
              "message": "expected [ 200, 404, 500 ] to include 403",
              "stack": "AssertionError: expected [ 200, 404, 500 ] to include 403\n   at Object.eval sandbox-script.js:1:34)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "e513118e-6887-4b9c-856c-142416977a19",
          "length": 46,
          "cycles": 1,
          "position": 34,
          "iteration": 0,
          "httpRequestId": "73284ff8-78d0-4c03-8bf4-b04cc86b728f"
        },
        "item": {
          "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
          "name": "Get Tags",
          "request": {
            "url": {
              "path": [
                "courses",
                "tags"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "tags"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "289d9a01-7091-4a92-bd99-b5a291ec4def",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "dfb85fb1-12d8-4f67-b53f-4086c2569566",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "351"
            },
            {
              "key": "ETag",
              "value": "W/\"15f-QtcAgCThwuTG7b7GnUVkELymv9Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              53,
              56,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              55,
              48,
              55,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              54,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              52,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              55,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 351
        },
        "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "8f166c6b-0e98-48ad-9b59-ca647c6200a6",
          "length": 46,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "fe10586e-e210-4442-8c9c-187470711a5e"
        },
        "item": {
          "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
          "name": "Create Tag (Manager/Admin)",
          "request": {
            "url": {
              "path": [
                "courses",
                "tag"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "tag"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a09497b6-a35a-4409-b347-91659589882c",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "33",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Tag888_1758644364\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "292b8d06-32b1-4e28-aad6-dd69954a82d8",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-UWhRxJNTddVKc9KZvN4s3cjMVyA\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              44,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 58
        },
        "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:36)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "bf6f2054-0db8-4875-9600-2a3ce0bd5809",
          "length": 46,
          "cycles": 1,
          "position": 36,
          "iteration": 0,
          "httpRequestId": "f5cdb536-abfe-4940-93cb-277ff2b4073e"
        },
        "item": {
          "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d291819c-c21a-4c40-affb-75e17897e923",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "3e92130b-63e6-466f-b115-03c43531c306",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 115,
          "responseSize": 130
        },
        "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "2dadc2a2-cb77-423d-9a48-4b22f0351e36",
          "length": 46,
          "cycles": 1,
          "position": 37,
          "iteration": 0,
          "httpRequestId": "8c6ca3cb-f94c-4fe8-b505-42fa28940690"
        },
        "item": {
          "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
          "name": "Send Message (as logged-in user)",
          "request": {
            "url": {
              "path": [
                "messages",
                "send"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                  "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                ],
                "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "send"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "da3f1685-6432-4c44-87a1-69f15d23be44",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "91",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"senderEmail\": \"user+1758644358479@example.com\",\n  \"content\": \"Hello from my account\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "bfa34460-86a6-4fe7-bf1e-80c8f3de5c3a",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "3;w=600"
            },
            {
              "key": "RateLimit-Limit",
              "value": "3"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "2"
            },
            {
              "key": "RateLimit-Reset",
              "value": "600"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "170"
            },
            {
              "key": "ETag",
              "value": "W/\"aa-BlA1aykUZCzbra6ojhDI2Blceaw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              115,
              101,
              110,
              100,
              101,
              114,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              99,
              111,
              110,
              116,
              101,
              110,
              116,
              34,
              58,
              34,
              72,
              101,
              108,
              108,
              111,
              32,
              102,
              114,
              111,
              109,
              32,
              109,
              121,
              32,
              97,
              99,
              99,
              111,
              117,
              110,
              116,
              34,
              44,
              34,
              115,
              101,
              101,
              110,
              34,
              58,
              48,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              100,
              97,
              116,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              84,
              49,
              54,
              58,
              49,
              57,
              58,
              50,
              51,
              46,
              57,
              53,
              48,
              90,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              116,
              105,
              109,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              84,
              49,
              54,
              58,
              49,
              57,
              58,
              50,
              51,
              46,
              57,
              53,
              48,
              90,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 116,
          "responseSize": 170
        },
        "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "c553435d-1994-4827-b3b3-1eb03dbe6b79",
          "length": 46,
          "cycles": 1,
          "position": 38,
          "iteration": 0,
          "httpRequestId": "5cb71c7d-a186-4837-94d6-4da5bc69aa30"
        },
        "item": {
          "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ad83d51a-ae35-4016-a809-67d4d81cec1a",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "ddd3eb5f-1f01-473a-93d1-b38f0885aae2",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b167be9b-bea0-4887-90a4-87424a1ecbea",
          "length": 46,
          "cycles": 1,
          "position": 39,
          "iteration": 0,
          "httpRequestId": "3aafd7d2-1522-4919-a567-891f171a0877"
        },
        "item": {
          "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
          "name": "Admin - Get All Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "receiveAll"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "receiveAll"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a435e3e7-1c55-4a56-a674-59b0ed47e6e2",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "d60eee16-b36b-4935-86c6-40b19a6b4104",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 8,
          "responseSize": 49
        },
        "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:40)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "98e42a14-a0cd-4fe9-8036-ac6c4f300844",
          "length": 46,
          "cycles": 1,
          "position": 40,
          "iteration": 0,
          "httpRequestId": "d3872f2f-5d37-4d86-95b0-a5a18f7a0bed"
        },
        "item": {
          "id": "c9127848-fea8-4ffc-9872-312f353c6966",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6b0e8988-db07-47ec-91ac-535c3efe6979",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "5cd81a6d-d494-4d8d-9f9c-c52707294d65",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-c7rsIGt3UGr5CU90Wj1+jXJELHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 130
        },
        "id": "c9127848-fea8-4ffc-9872-312f353c6966",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "a7348e30-6be9-4588-ae28-9f1305a559a5",
          "length": 46,
          "cycles": 1,
          "position": 41,
          "iteration": 0,
          "httpRequestId": "2c6794cd-68eb-4bd0-a174-119b213160a8"
        },
        "item": {
          "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
          "name": "My Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "MyMessages"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "MyMessages"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "34b302c9-d1aa-4596-8b25-ff836f750f42",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "1a4bade0-729b-44bf-bdcd-2414024a17b9",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "164"
            },
            {
              "key": "ETag",
              "value": "W/\"a4-MFQOZPQsozCh83AVYqBCMg3Q/8o\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              54,
              44,
              34,
              115,
              101,
              110,
              100,
              101,
              114,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              52,
              51,
              53,
              56,
              52,
              55,
              57,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              101,
              99,
              101,
              105,
              118,
              101,
              114,
              34,
              58,
              34,
              34,
              44,
              34,
              99,
              111,
              110,
              116,
              101,
              110,
              116,
              34,
              58,
              34,
              72,
              101,
              108,
              108,
              111,
              32,
              102,
              114,
              111,
              109,
              32,
              109,
              121,
              32,
              97,
              99,
              99,
              111,
              117,
              110,
              116,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              100,
              97,
              116,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              116,
              105,
              109,
              101,
              34,
              58,
              34,
              49,
              57,
              58,
              49,
              57,
              58,
              50,
              51,
              34,
              44,
              34,
              115,
              101,
              101,
              110,
              34,
              58,
              48,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 106,
          "responseSize": 164
        },
        "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "71f7ca55-c5c2-4980-8c76-a31842f8cba4",
          "length": 46,
          "cycles": 1,
          "position": 42,
          "iteration": 0,
          "httpRequestId": "c9b22dee-37a9-4f85-8190-ae5b88d567eb"
        },
        "item": {
          "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
          "name": "Update My Message",
          "request": {
            "url": {
              "path": [
                "messages",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "796e9f23-8652-4b98-a355-1d817457191e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "44",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"content\": \"Updated content\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "6bfed02a-0865-42fd-b118-b23e95a1a721",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "87"
            },
            {
              "key": "ETag",
              "value": "W/\"57-77pDEf4zgfFAQ0zElgsQnf97pmQ\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              99,
              111,
              110,
              116,
              101,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 87
        },
        "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:43)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "7be88453-0d48-4d23-8d74-a64839b4dc9d",
          "length": 46,
          "cycles": 1,
          "position": 43,
          "iteration": 0,
          "httpRequestId": "acd008f4-70fe-44cf-80af-0d7d1982d2e6"
        },
        "item": {
          "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                "type": "text/javascript",
                "exec": [
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                ],
                "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2fee5446-a4bb-48e9-bdc4-f2fd266d9a09",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODEsImVtYWlsIjoidXNlcisxNzU4NjQ0MzU4NDc5QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDQzNjAsImV4cCI6MTc1ODY0Nzk2MH0.YvjBdwEQuXQpaTx5VMgjm-jUKlurH9IMqfLicpGHRMo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "8a3fb917-adbf-4a29-b7b1-6bbfeb461507",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "86"
            },
            {
              "key": "RateLimit-Reset",
              "value": "893"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-ugY/nlLzx65i39+myja6pEyBmjo\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              48,
              77,
              122,
              89,
              49,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              99,
              53,
              78,
              106,
              86,
              57,
              46,
              77,
              53,
              75,
              116,
              99,
              119,
              104,
              79,
              70,
              65,
              78,
              88,
              72,
              99,
              56,
              111,
              67,
              45,
              81,
              87,
              67,
              102,
              68,
              120,
              106,
              111,
              122,
              106,
              120,
              74,
              48,
              82,
              82,
              55,
              66,
              107,
              117,
              54,
              77,
              56,
              106,
              110,
              77,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 212,
          "responseSize": 320
        },
        "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60"
      },
      {
        "cursor": {
          "ref": "444cd1ab-19e2-4ac3-baa4-fbb4a3333c44",
          "length": 46,
          "cycles": 1,
          "position": 44,
          "iteration": 0,
          "httpRequestId": "06e4590b-5621-43f0-a29d-3dc7094f1cd8"
        },
        "item": {
          "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
          "name": "Admin - Mark Seen",
          "request": {
            "url": {
              "path": [
                "messages",
                "seen"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "seen"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzY1LCJleHAiOjE3NTg2NDc5NjV9.M5KtcwhOFANXHc8oC-QWCfDxjozjxJ0RR7Bku6M8jnM",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "74792ce5-56d2-423c-ab1a-5573125db196",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzY1LCJleHAiOjE3NTg2NDc5NjV9.M5KtcwhOFANXHc8oC-QWCfDxjozjxJ0RR7Bku6M8jnM",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "09f6138c-4fb3-4b56-9864-a0fb1f016068",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 2,
          "responseSize": 72
        },
        "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:45)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "5682083b-c7ff-4e81-a5c8-6dad9eed87f4",
          "length": 46,
          "cycles": 1,
          "position": 45,
          "iteration": 0,
          "httpRequestId": "e253d1f5-da5d-4145-97e2-9469b4d78b53"
        },
        "item": {
          "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
          "name": "Delete My Message (Any Owner)",
          "request": {
            "url": {
              "path": [
                "messages",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzY1LCJleHAiOjE3NTg2NDc5NjV9.M5KtcwhOFANXHc8oC-QWCfDxjozjxJ0RR7Bku6M8jnM",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f25afe3e-f415-4b7a-a4eb-44bcc17d8b91",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ0MzY1LCJleHAiOjE3NTg2NDc5NjV9.M5KtcwhOFANXHc8oC-QWCfDxjozjxJ0RR7Bku6M8jnM",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "b24203d7-ceb4-4e63-9d24-5e664f2f48e2",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 16:19:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 72
        },
        "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
        "assertions": [
          {
            "assertion": "Expect 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Expect 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:46)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 7362
    },
    "failures": [
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:26)",
          "checksum": "61912adaf4bae07a1ab728dd443ba820",
          "id": "60ddce21-842d-46e0-9ac7-aab669468b39",
          "timestamp": 1758644362549,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
          "name": "Manager - Get My Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "teacher",
                "mycourses"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55fa651-e328-4292-895f-3070efc33b92",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                ],
                "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
              }
            }
          ]
        },
        "parent": {
          "id": "547ff500-da6b-460a-97ce-64293cc00cf6",
          "name": "Courses",
          "item": [
            {
              "id": "8f2769c8-0829-4840-85be-58977c2edb74",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
                  }
                }
              ]
            },
            {
              "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
                  }
                }
              ]
            },
            {
              "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
                  }
                }
              ]
            },
            {
              "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
                  }
                }
              ]
            },
            {
              "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
                  }
                }
              ]
            },
            {
              "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "96df3524-af71-4c6a-9696-660875e492e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
                  }
                }
              ]
            },
            {
              "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55fa651-e328-4292-895f-3070efc33b92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
                  }
                }
              ]
            },
            {
              "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
                  }
                }
              ]
            },
            {
              "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
                  }
                }
              ]
            },
            {
              "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
                  }
                }
              ]
            },
            {
              "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
                  }
                }
              ]
            },
            {
              "id": "62399524-516f-44c8-a65d-8d7a34994521",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
                  }
                }
              ]
            },
            {
              "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
                  }
                }
              ]
            },
            {
              "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
                  }
                }
              ]
            },
            {
              "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
                  }
                }
              ]
            },
            {
              "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
                  }
                }
              ]
            },
            {
              "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "fc790334-9e67-44ec-a6da-ba0c0d332653",
          "length": 46,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "3ec0c7b5-1ffb-4f95-b050-9b3f8289353c",
          "scriptId": "c55fa651-e328-4292-895f-3070efc33b92",
          "execution": "88073722-c2e3-4fa1-98db-1cc4330752e1"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Negative when different owner else OK",
          "message": "expected [ 404, 500 ] to include 200",
          "stack": "AssertionError: expected [ 404, 500 ] to include 200\n   at Object.eval sandbox-script.js:1:29)",
          "checksum": "acd0a7f81e3727456c1f07a3fcb9a5df",
          "id": "ada151a4-fce8-411c-8211-5b6976cd293c",
          "timestamp": 1758644362960,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 29,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
          "name": "Manager - Find Other's Course (Negative)",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{otherCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                ],
                "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
              }
            }
          ]
        },
        "parent": {
          "id": "547ff500-da6b-460a-97ce-64293cc00cf6",
          "name": "Courses",
          "item": [
            {
              "id": "8f2769c8-0829-4840-85be-58977c2edb74",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
                  }
                }
              ]
            },
            {
              "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
                  }
                }
              ]
            },
            {
              "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
                  }
                }
              ]
            },
            {
              "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
                  }
                }
              ]
            },
            {
              "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
                  }
                }
              ]
            },
            {
              "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "96df3524-af71-4c6a-9696-660875e492e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
                  }
                }
              ]
            },
            {
              "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55fa651-e328-4292-895f-3070efc33b92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
                  }
                }
              ]
            },
            {
              "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
                  }
                }
              ]
            },
            {
              "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
                  }
                }
              ]
            },
            {
              "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
                  }
                }
              ]
            },
            {
              "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
                  }
                }
              ]
            },
            {
              "id": "62399524-516f-44c8-a65d-8d7a34994521",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
                  }
                }
              ]
            },
            {
              "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
                  }
                }
              ]
            },
            {
              "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
                  }
                }
              ]
            },
            {
              "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
                  }
                }
              ]
            },
            {
              "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
                  }
                }
              ]
            },
            {
              "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4451fca6-eca3-4bd5-bb9d-9ffb122f9221",
          "length": 46,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "069beec8-edad-449f-8c56-586d23d6d56e",
          "scriptId": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
          "execution": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200/404/500",
          "message": "expected [ 200, 404, 500 ] to include 403",
          "stack": "AssertionError: expected [ 200, 404, 500 ] to include 403\n   at Object.eval sandbox-script.js:1:34)",
          "checksum": "a63cda487cc4332d470974b39d5e92c9",
          "id": "45eddbb9-8cab-49d2-b543-c2be8230f12e",
          "timestamp": 1758644363411,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 34,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
          "name": "Admin - Delete Any Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{otherCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
              }
            }
          ]
        },
        "parent": {
          "id": "547ff500-da6b-460a-97ce-64293cc00cf6",
          "name": "Courses",
          "item": [
            {
              "id": "8f2769c8-0829-4840-85be-58977c2edb74",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
                  }
                }
              ]
            },
            {
              "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
                  }
                }
              ]
            },
            {
              "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
                  }
                }
              ]
            },
            {
              "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
                  }
                }
              ]
            },
            {
              "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
                  }
                }
              ]
            },
            {
              "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "96df3524-af71-4c6a-9696-660875e492e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
                  }
                }
              ]
            },
            {
              "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55fa651-e328-4292-895f-3070efc33b92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
                  }
                }
              ]
            },
            {
              "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
                  }
                }
              ]
            },
            {
              "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
                  }
                }
              ]
            },
            {
              "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
                  }
                }
              ]
            },
            {
              "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
                  }
                }
              ]
            },
            {
              "id": "62399524-516f-44c8-a65d-8d7a34994521",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
                  }
                }
              ]
            },
            {
              "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
                  }
                }
              ]
            },
            {
              "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
                  }
                }
              ]
            },
            {
              "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
                  }
                }
              ]
            },
            {
              "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
                  }
                }
              ]
            },
            {
              "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "964022a2-fa5c-431d-9e12-c1ce1b53c358",
          "length": 46,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "b70c4803-cd5b-443c-9cde-721fd20e2257",
          "scriptId": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
          "execution": "450a3714-a71d-417c-9c60-a091555bb628"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:36)",
          "checksum": "618e2fd748bd6df8b5cf1ed4f100ae65",
          "id": "4fd4d707-31a7-412e-b737-6aca9ea88cb1",
          "timestamp": 1758644363676,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 36,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
          "name": "Create Tag (Manager/Admin)",
          "request": {
            "url": {
              "path": [
                "courses",
                "tag"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
              }
            }
          ]
        },
        "parent": {
          "id": "547ff500-da6b-460a-97ce-64293cc00cf6",
          "name": "Courses",
          "item": [
            {
              "id": "8f2769c8-0829-4840-85be-58977c2edb74",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "30d663cf-dec3-427d-9f45-7601ce9fa4eb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "2c911440-f48c-45e9-9fd8-0e71f25da683"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "3ea371e6-106e-4e9a-a66e-a48716c87e74",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "cacf2c65-5dfa-4e41-affb-e7297fed5edb"
                  }
                }
              ]
            },
            {
              "id": "cd256fe7-c9c5-45f4-8a3c-b784b941accb",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b66e4ad-644b-4519-a491-4cd19ee08dd2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "c0e72d4f-d4a4-4044-94f1-2fb339eec3f5"
                  }
                }
              ]
            },
            {
              "id": "28d6efa4-e13b-4f5c-ab8f-73fb28e750b4",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e3c5e99-8416-4e20-b04c-fb87a8f46d48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "647ae242-d461-4274-b965-bda436a9a861"
                  }
                }
              ]
            },
            {
              "id": "5bfb160d-66bf-471a-99ff-cfc078b0d003",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "3b51e69c-29ef-48b0-b17f-04def888639d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "573b89f7-f2ee-450c-a8e7-4e5e91ea56d9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "49c40f0c-ddc5-4cef-b986-2cbf0c2f1c18",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "894a35bf-07df-440e-ba8d-6791fcc9f00f"
                  }
                }
              ]
            },
            {
              "id": "d01edb36-1fe4-4df8-bac7-bc866e8c5483",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7122340f-d29e-4c91-bab0-8c4ebb177b8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "83b872ac-17f3-4033-aa94-96e8573c3796"
                  }
                }
              ]
            },
            {
              "id": "a3b19b2c-ef5e-4c9d-9ead-d8b618926974",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "03e27c7c-5030-46cd-af1c-8483d6f2e1b2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "a796d295-edba-4c75-bbd5-ea6077e80ce0"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "96df3524-af71-4c6a-9696-660875e492e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3fa8e7fd-dff2-4be9-9d2a-63202622bc2e"
                  }
                }
              ]
            },
            {
              "id": "5818b7c1-e8de-4386-8239-f66e77801c8e",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55fa651-e328-4292-895f-3070efc33b92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "88073722-c2e3-4fa1-98db-1cc4330752e1"
                  }
                }
              ]
            },
            {
              "id": "febb29dc-f150-4eb5-929a-0793518b2d33",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f4e8cca-fcac-46e5-a3c3-0aba4f834047",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "db9496f9-3521-4a5a-9fc8-93695a46d71c"
                  }
                }
              ]
            },
            {
              "id": "a5031a9c-1ee1-4012-bc76-077a3cfdaac4",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "987bcfb8-f1f5-4ee3-937a-343660f77060",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "f72c7c13-61b1-4b69-b35c-822e059d543b"
                  }
                }
              ]
            },
            {
              "id": "a8a3d055-2288-45dd-83e7-c74b898f1d98",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c4c15e3e-da26-43bc-9d29-1ba48f1b1ce6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "87a1f3a9-da22-4d48-a94a-c87a996f4ef9"
                  }
                }
              ]
            },
            {
              "id": "6b786429-3a4c-4009-baa5-63e4b87b75ec",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "410af2c4-3258-4fb3-8d46-01570dae10fe",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "03d7672d-5638-464e-9b3a-c583ac55c1bb"
                  }
                }
              ]
            },
            {
              "id": "62399524-516f-44c8-a65d-8d7a34994521",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f839fe18-5ceb-417d-88a6-359bf062a49a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "6911c460-16dc-4885-ba84-97fd0eaee557"
                  }
                }
              ]
            },
            {
              "id": "2d96b83e-bea3-4220-b82d-6e900c584df3",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8e0a39e9-3621-431c-aad8-432d1fc5eef6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cdfb3131-44f0-4ecb-9335-aef91e631d79"
                  }
                }
              ]
            },
            {
              "id": "5d841b29-621f-4aca-9384-3128a18bb2ed",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "a5df976b-879d-4156-b3d4-21f05890eb57",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "a29c3c8e-9f55-454c-bc0d-e470a16386d5"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "57676959-c116-4b3d-96ed-b9e96da9dcac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3e47276a-52ae-4c12-83d5-990c701b6d5e"
                  }
                }
              ]
            },
            {
              "id": "78f18d74-c416-4ed6-858b-21eb7b3e1ed9",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ea5d473d-63d7-4ebc-9259-9e35e50fab62",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "450a3714-a71d-417c-9c60-a091555bb628"
                  }
                }
              ]
            },
            {
              "id": "1eb0aae9-cd8b-4fb8-a1f0-4eb527282a9d",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d7271f71-0646-4497-98f3-9f9ddd392222",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a26fcc36-b34f-4243-ab09-9a3abc973020"
                  }
                }
              ]
            },
            {
              "id": "ea56be5f-4561-4c79-ba6a-d29df8066c4d",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8f166c6b-0e98-48ad-9b59-ca647c6200a6",
          "length": 46,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "fe10586e-e210-4442-8c9c-187470711a5e",
          "scriptId": "bfae2bf0-9a28-48bc-b535-d210e7a5f194",
          "execution": "24e5b39b-9a4b-49f3-abd0-cbea616efcb3"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:40)",
          "checksum": "78d18b5623208ade7bdf41872de05000",
          "id": "d479d480-8962-47cb-82ee-dafee7d4333e",
          "timestamp": 1758644364326,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 40,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
          "name": "Admin - Get All Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "receiveAll"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
              }
            }
          ]
        },
        "parent": {
          "id": "41cbbfd3-86fb-4685-b6ba-e2324b488811",
          "name": "Messages",
          "item": [
            {
              "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
                  }
                }
              ]
            },
            {
              "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
                  }
                }
              ]
            },
            {
              "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
                  }
                }
              ]
            },
            {
              "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
                  }
                }
              ]
            },
            {
              "id": "c9127848-fea8-4ffc-9872-312f353c6966",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
                  }
                }
              ]
            },
            {
              "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
                  }
                }
              ]
            },
            {
              "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
                  }
                }
              ]
            },
            {
              "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
                  }
                }
              ]
            },
            {
              "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
                  }
                }
              ]
            },
            {
              "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b167be9b-bea0-4887-90a4-87424a1ecbea",
          "length": 46,
          "cycles": 1,
          "position": 39,
          "iteration": 0,
          "httpRequestId": "3aafd7d2-1522-4919-a567-891f171a0877",
          "scriptId": "dd3d903f-735b-4413-a3f7-2d00585a3433",
          "execution": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:43)",
          "checksum": "a559f4cf1ee287787b27dd39b48725eb",
          "id": "786696df-4f56-4038-8416-461c4481ac20",
          "timestamp": 1758644364742,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 43,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
          "name": "Update My Message",
          "request": {
            "url": {
              "path": [
                "messages",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
              }
            }
          ]
        },
        "parent": {
          "id": "41cbbfd3-86fb-4685-b6ba-e2324b488811",
          "name": "Messages",
          "item": [
            {
              "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
                  }
                }
              ]
            },
            {
              "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
                  }
                }
              ]
            },
            {
              "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
                  }
                }
              ]
            },
            {
              "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
                  }
                }
              ]
            },
            {
              "id": "c9127848-fea8-4ffc-9872-312f353c6966",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
                  }
                }
              ]
            },
            {
              "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
                  }
                }
              ]
            },
            {
              "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
                  }
                }
              ]
            },
            {
              "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
                  }
                }
              ]
            },
            {
              "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
                  }
                }
              ]
            },
            {
              "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "71f7ca55-c5c2-4980-8c76-a31842f8cba4",
          "length": 46,
          "cycles": 1,
          "position": 42,
          "iteration": 0,
          "httpRequestId": "c9b22dee-37a9-4f85-8190-ae5b88d567eb",
          "scriptId": "6ba51c26-597d-4fea-9d54-96105e6eea82",
          "execution": "4ef75b6e-4f96-4075-8279-c20761982025"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:45)",
          "checksum": "4a98a8b0b717c2fe1e3def3c20740589",
          "id": "d9dd1bc3-80e0-408c-ad02-1129b8c4211a",
          "timestamp": 1758644365125,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 45,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
          "name": "Admin - Mark Seen",
          "request": {
            "url": {
              "path": [
                "messages",
                "seen"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
              }
            }
          ]
        },
        "parent": {
          "id": "41cbbfd3-86fb-4685-b6ba-e2324b488811",
          "name": "Messages",
          "item": [
            {
              "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
                  }
                }
              ]
            },
            {
              "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
                  }
                }
              ]
            },
            {
              "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
                  }
                }
              ]
            },
            {
              "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
                  }
                }
              ]
            },
            {
              "id": "c9127848-fea8-4ffc-9872-312f353c6966",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
                  }
                }
              ]
            },
            {
              "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
                  }
                }
              ]
            },
            {
              "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
                  }
                }
              ]
            },
            {
              "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
                  }
                }
              ]
            },
            {
              "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
                  }
                }
              ]
            },
            {
              "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "444cd1ab-19e2-4ac3-baa4-fbb4a3333c44",
          "length": 46,
          "cycles": 1,
          "position": 44,
          "iteration": 0,
          "httpRequestId": "06e4590b-5621-43f0-a29d-3dc7094f1cd8",
          "scriptId": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
          "execution": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Expect 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:46)",
          "checksum": "b79e576aa3e44f5b5fad19820ae3c756",
          "id": "5cece51a-0081-4e53-9cce-4b7ac294b81b",
          "timestamp": 1758644365182,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 46,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
          "name": "Delete My Message (Any Owner)",
          "request": {
            "url": {
              "path": [
                "messages",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
              }
            }
          ]
        },
        "parent": {
          "id": "41cbbfd3-86fb-4685-b6ba-e2324b488811",
          "name": "Messages",
          "item": [
            {
              "id": "d11c7204-6c68-4b13-9b80-41f84e95fb8e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4b600e6-2052-4d38-b6b0-4a336665bf2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "d8aab0a7-6663-4aca-861b-34f3fe475dca"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "ecfdeb3d-00f1-4690-854f-2d6635c9ee5d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "5874b416-0177-4bcf-85d5-1cd974b18ace"
                  }
                }
              ]
            },
            {
              "id": "5cff3362-fc5e-4065-bf87-6203e0ebdb12",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5558067-04dd-441a-bd00-eb4db0e22210",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "50be4e10-991e-4295-aff4-4a4af1a7a387"
                  }
                }
              ]
            },
            {
              "id": "32da4c63-ea5e-48a5-b7ba-05e99d971392",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "290a32ae-4959-4172-a8fa-4da6b59a7243",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "7d221678-ed57-46ff-8b80-df45bd114eec"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "fd8cb8c6-2b2e-4bfc-8485-8032da44a418",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "dc1a05c1-d068-49f2-a643-c74d97bc6764"
                  }
                }
              ]
            },
            {
              "id": "0e1cefb4-a68f-4978-8a56-f11f14205189",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "dd3d903f-735b-4413-a3f7-2d00585a3433",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "2628d6b4-1476-447a-a4ea-b8a2f2ecab6e"
                  }
                }
              ]
            },
            {
              "id": "c9127848-fea8-4ffc-9872-312f353c6966",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "c41b9375-770b-4717-b2f7-fbfee0d622b3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "53d27fd8-cd34-49d4-a79a-bf75533eaa42"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "17ab3611-0195-4060-89cd-4d73f70f2e24",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "535bf351-18e3-47f9-97b0-b1df9523ef74"
                  }
                }
              ]
            },
            {
              "id": "1bcdc180-b429-425d-98f7-c553bf6bcc77",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1c670ae5-03c0-4707-91f8-a95bab048ffa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "8b85cfce-4452-4742-99b7-51dad2e86ff6"
                  }
                }
              ]
            },
            {
              "id": "8f576ef7-31fe-41a0-9618-fb64db5d77e1",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6ba51c26-597d-4fea-9d54-96105e6eea82",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4ef75b6e-4f96-4075-8279-c20761982025"
                  }
                }
              ]
            },
            {
              "id": "88a2ddf8-efe6-4ed8-aa11-d2f09e882c60",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fd7bae4a-e2c6-4caa-9f01-3e554f0bf5ff",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "9d3e6f6e-04b9-4199-9bc7-6b413755e708"
                  }
                }
              ]
            },
            {
              "id": "c7a716d9-cdca-4368-bac7-327a85d305fa",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "419d2f4b-0ddb-449e-a35f-ddbab4ba9970",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "6ea80348-af5a-4c48-adcb-efbf1fcb58f9"
                  }
                }
              ]
            },
            {
              "id": "17d5bed1-014d-4f8f-ad3a-07caec98f0a1",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "671c15b2-7b89-45ae-9712-90d744e16705",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "5682083b-c7ff-4e81-a5c8-6dad9eed87f4",
          "length": 46,
          "cycles": 1,
          "position": 45,
          "iteration": 0,
          "httpRequestId": "e253d1f5-da5d-4145-97e2-9469b4d78b53",
          "scriptId": "671c15b2-7b89-45ae-9712-90d744e16705",
          "execution": "8620a031-6db1-4192-bf0b-6d8dc80cbaad"
        }
      }
    ],
    "error": null
  }
}