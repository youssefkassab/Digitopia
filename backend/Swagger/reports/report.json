{
  "collection": {
    "_": {
      "postman_id": "digitopia-collection-0001"
    },
    "item": [
      {
        "id": "29713bd3-5d13-4684-98a8-a173099e3527",
        "name": "Orchestration",
        "item": [
          {
            "id": "cdf152af-7de9-48b3-9dac-110d50ff299c",
            "name": "Admin Login (Start)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b29c6031-a663-42fd-aa12-7ba3b2f587c7",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.expect(j).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('adminToken', j.token);"
                  ],
                  "_lastExecutionId": "fbfb64f3-2a99-45c8-b8ee-43ada62d9a72"
                }
              }
            ]
          },
          {
            "id": "d4f9cc15-cb29-4359-ac15-aee66295aef3",
            "name": "Ensure Manager Signup",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\",\n  \"national_number\": \"MNGR{{$timestamp}}\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "d284b39c-190d-47c6-b7ba-c10cd0fc196a",
                  "type": "text/javascript",
                  "exec": [
                    "if (!pm.environment.get('managerEmail') || pm.environment.get('managerEmail').endsWith('@example.com')) { pm.environment.set('managerEmail','manager+'+Date.now()+'@example.com'); }"
                  ],
                  "_lastExecutionId": "75597bf9-d58b-4200-8d16-e098a7eb1823"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "7bc60292-04e8-4141-8e3e-603e8dbb674e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                  ],
                  "_lastExecutionId": "27a81e50-1ac1-465c-a8db-f08d4868fe49"
                }
              }
            ]
          },
          {
            "id": "5c5238f7-2c66-47d3-a810-8ce41bc1a169",
            "name": "Manager Login (Capture managerId)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "0e393d0a-1250-4297-9cf8-9b2d73df2c4d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('managerToken', j.token);"
                  ],
                  "_lastExecutionId": "62121360-b3e7-4669-b39c-3eb198c82e95"
                }
              }
            ]
          },
          {
            "id": "205963db-f201-42a6-82b7-9e67f5562832",
            "name": "Get Manager Profile -> managerId",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "562a77ea-924c-4025-958f-71e35eae90a5",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.environment.set('managerId', j.id); pm.environment.set('targetUserId', j.id);"
                  ],
                  "_lastExecutionId": "4efb6531-c0f9-4d43-912d-f6014f4768fc"
                }
              }
            ]
          },
          {
            "id": "05336eab-7407-4172-80b6-91fb1d3cd8d0",
            "name": "Admin Upgrade Manager -> Teacher (No-op when direct teacher signup)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "ce2e32ef-fed7-46a7-9ee2-1f0141f2c2b1",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "406638ef-4746-4281-9921-1cd389590dff"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "5adc6fd0-3f33-4a4d-9c49-2573219cf612",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Admin token valid (200)', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "ec2b3e6f-482f-48aa-86f2-87364dda8153"
                }
              }
            ]
          },
          {
            "id": "2c7df419-4833-4aeb-aed2-9fda05fa7211",
            "name": "Ensure User Signup",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\",\n  \"national_number\": \"USER{{$timestamp}}\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "1cd728cb-121f-408f-b4a3-299ed92ae7c8",
                  "type": "text/javascript",
                  "exec": [
                    "if (!pm.environment.get('userEmail') || pm.environment.get('userEmail').endsWith('@example.com')) { pm.environment.set('userEmail','user+'+Date.now()+'@example.com'); }"
                  ],
                  "_lastExecutionId": "4f395aa2-3862-4dc1-8df2-9b149a150f98"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "899ba84e-d651-478b-b054-c57d2c057fcc",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                  ],
                  "_lastExecutionId": "acd28b31-a31f-4db6-98ce-ab63b4f2393b"
                }
              }
            ]
          },
          {
            "id": "b46e6659-12e9-407e-83a4-ed3bb69f7243",
            "name": "User Login (Capture userId)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "68470bc7-7fd4-4b41-b60d-8773dd755c64",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('userToken', j.token);"
                  ],
                  "_lastExecutionId": "304d53ab-002f-48c8-99ec-96390045ce92"
                }
              }
            ]
          },
          {
            "id": "752f1bf2-81b7-46ea-a0e5-12638b59fb83",
            "name": "Get User Profile -> userId",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "567a9c49-4639-4956-9899-4f714cf68e8e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.environment.set('userId', j.id);"
                  ],
                  "_lastExecutionId": "078d6866-4902-4b81-a81e-0cfe1a7784b2"
                }
              }
            ]
          },
          {
            "id": "a409ab37-1a6a-4f5a-926c-930ddd8b7073",
            "name": "Admin Login (Ready for tests)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "388c83e0-44cb-40c2-8b02-756c40bd8dba",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                  ],
                  "_lastExecutionId": "cc97578d-10f7-4140-a701-61968b95aaba"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "22ac1cb0-fa93-4d9e-8cfc-773db5afda18",
        "name": "Auth",
        "item": [
          {
            "id": "bee3bfaa-029a-4b87-8909-8b685b9aa158",
            "name": "Admin Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "31797476-7887-48ea-8aa7-90c9db3e5d81",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json();",
                    "pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token);",
                    "pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "b3ed8d6b-5318-474f-80ac-b399c3707ed7"
                }
              }
            ]
          },
          {
            "id": "99c830f7-a731-40c0-b3fe-3d57b37e6cd5",
            "name": "Manager Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "344f9359-a40c-4bf0-81b8-e01d73b3dc56",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "ab625d45-33a1-4212-a670-a37fc01d1743"
                }
              }
            ]
          },
          {
            "id": "57307d96-5f32-4074-82f2-5889f3420718",
            "name": "User Login",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "38c8c4ab-1a21-48dd-bac7-7580c65fb315",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                    "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                  ],
                  "_lastExecutionId": "9157d24e-6e77-456b-9b97-ff8ed4c26357"
                }
              }
            ]
          },
          {
            "id": "41be288b-f8a4-4449-a970-b1dcc322d70f",
            "name": "Signup - Positive",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+{{$timestamp}}@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT{{$timestamp}}\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "000176fa-3308-4a62-a841-dee3b8e1da11",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 201/409/400/500 acceptable', function () { pm.expect([201,409,400,500]).to.include(pm.response.code); });",
                    "pm.test('Has message or error', function(){ var j={}; try{j=pm.response.json()}catch(e){}; pm.expect(j).to.be.an('object'); });"
                  ],
                  "_lastExecutionId": "bfc2fb95-5f08-4d78-a13e-dabaaa53ada8"
                }
              }
            ]
          },
          {
            "id": "340ab7f0-197d-4172-9bd3-10e54ca9c0c2",
            "name": "Signup - Duplicate Email (Negative)",
            "request": {
              "url": {
                "path": [
                  "users",
                  "signup"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP{{$timestamp}}\",\n  \"role\": \"user\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "bf532c65-4ed2-4655-a5b0-960adaec8261",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 409', function () { pm.response.to.have.status(409); });"
                  ],
                  "_lastExecutionId": "d5fb6cc6-7870-4cdf-b8d3-716dc436e07e"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "60500c70-4feb-4539-b6d5-dd9e47900612",
        "name": "Users",
        "item": [
          {
            "id": "cea86cad-1768-4804-905d-f51b648dc6f3",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "ce8d64bb-1250-4e6f-83db-844e93067d92",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "6b4ad6c7-6b94-48e5-86dc-0b15749be4e3"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "77b97a5c-2e36-4aa2-8e03-c235d194182f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "ce9e6352-ec50-4577-9953-21b9dcbc83fc"
                }
              }
            ]
          },
          {
            "id": "beb881e0-2aaa-4892-88f7-6abf94373c71",
            "name": "Get Current User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "db0e756e-3412-4f5d-a53e-2ffcd2c860dd",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                    "var j = pm.response.json(); pm.expect(j).to.have.property('id'); pm.expect(j).to.have.property('email');"
                  ],
                  "_lastExecutionId": "f70d7fc3-e993-4916-98eb-dc1111ad1367"
                }
              }
            ]
          },
          {
            "id": "cc19c28d-7dc9-4060-b1da-2a61b088ee0b",
            "name": "Upgrade Role - Admin Success",
            "request": {
              "url": {
                "path": [
                  "users",
                  "upgradeRole"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"teacher\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "406840f4-66f4-4ee4-aafe-ff5eb9791894",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200 or 403 (env-dependent admin)', function(){ pm.expect([200,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "acf12a61-4790-4890-984c-741e67dc7934"
                }
              }
            ]
          },
          {
            "id": "f8d00f2c-7210-4162-a51f-354d47a846dc",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "272770e0-4f81-449a-bf01-1c67bc4319e4",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "413ee516-3a89-4214-adad-4fa2b1eb5994"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "881c1f56-aea8-4f5d-a2cf-298a181156e3",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "752f148e-a03e-4acf-afad-cbe0b48b93ea"
                }
              }
            ]
          },
          {
            "id": "ed0e4664-0a1a-4cc2-8eaf-705f5b64a37b",
            "name": "Upgrade Role - User Forbidden",
            "request": {
              "url": {
                "path": [
                  "users",
                  "upgradeRole"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"admin\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "006fc333-3121-46de-a71a-79a725d557de",
                  "type": "text/javascript",
                  "exec": [
                    "// ensure user token in place by logging in as User via previous Auth->User Login before running this"
                  ],
                  "_lastExecutionId": "aabf48a4-b5cc-4610-97dc-a725157da823"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "9e7c1bcb-0ff2-4133-92d2-fc1305b1ca5a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Forbidden for non-admin', function(){ pm.expect([401,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "cc011a38-996b-4084-ab2a-befb05bfd581"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "04aa8ca3-bbea-4711-8120-e9388c384359",
        "name": "Courses",
        "item": [
          {
            "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
            "name": "Switch -> Manager",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                  ],
                  "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
                }
              }
            ]
          },
          {
            "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
            "name": "Public - Get All Courses",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "all"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "6879d865-f103-4226-be9b-039287e36d78",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                    "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                  ],
                  "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
                }
              }
            ]
          },
          {
            "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
            "name": "Manager - Create Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "create"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
                }
              }
            ]
          },
          {
            "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
                }
              }
            ]
          },
          {
            "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
            "name": "Admin - Create Course for Teacher",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "create"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
                }
              }
            ]
          },
          {
            "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
            "name": "Switch -> Manager",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                  ],
                  "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
                }
              }
            ]
          },
          {
            "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
            "name": "Manager - Get My Courses",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "teacher",
                  "mycourses"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                    "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                  ],
                  "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
                }
              }
            ]
          },
          {
            "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
            "name": "Pick Other Course (teacher_id != managerId)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "all"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                  "type": "text/javascript",
                  "exec": [
                    "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                  ],
                  "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
                }
              }
            ]
          },
          {
            "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
            "name": "Manager - Find Own Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "find",
                  "{{myCourseId}}"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                    "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                  ],
                  "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
                }
              }
            ]
          },
          {
            "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
            "name": "Manager - Find Other's Course (Negative)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "find",
                  "{{otherCourseId}}"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                  ],
                  "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
                }
              }
            ]
          },
          {
            "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
            "name": "Manager - Update Course (Fields)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
                }
              }
            ]
          },
          {
            "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
            "name": "Manager - Update Course (Tags Only)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
                }
              }
            ]
          },
          {
            "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
            "name": "Manager - Delete Own Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{myCourseId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                  ],
                  "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
                }
              }
            ]
          },
          {
            "id": "2b560e33-261e-437e-a642-3990179f4e47",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
                }
              }
            ]
          },
          {
            "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
            "name": "Admin - Delete Any Course",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{otherCourseId}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
                }
              }
            ]
          },
          {
            "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
            "name": "Get Tags",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "tags"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
                }
              }
            ]
          },
          {
            "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
            "name": "Create Tag (Manager/Admin)",
            "request": {
              "url": {
                "path": [
                  "courses",
                  "tag"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "871b282a-eac9-43a7-9795-83cfb735c7a5",
        "name": "Messages",
        "item": [
          {
            "id": "62871daa-4189-4abd-8169-7adbae921d86",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
                }
              }
            ]
          },
          {
            "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
            "name": "Send Message (as logged-in user)",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "send"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                    "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                  ],
                  "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
                }
              }
            ]
          },
          {
            "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                  ],
                  "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
                }
              }
            ]
          },
          {
            "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
            "name": "Admin - Get All Messages",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "receiveAll"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "d9698049-4353-402b-84e9-55210705cd46",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
                }
              }
            ]
          },
          {
            "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
            "name": "Switch -> User",
            "request": {
              "url": {
                "path": [
                  "users",
                  "user"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                  "type": "text/javascript",
                  "exec": [
                    "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                  ],
                  "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                  ],
                  "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
                }
              }
            ]
          },
          {
            "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
            "name": "My Messages",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "MyMessages"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
                }
              }
            ]
          },
          {
            "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
            "name": "Update My Message",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "update"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PATCH",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
                }
              }
            ]
          },
          {
            "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
            "name": "Switch -> Admin",
            "request": {
              "url": {
                "path": [
                  "users",
                  "login"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                  "type": "text/javascript",
                  "exec": [
                    "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                  ],
                  "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
                }
              }
            ]
          },
          {
            "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
            "name": "Admin - Mark Seen",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "seen"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PATCH",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                  ],
                  "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
                }
              }
            ]
          },
          {
            "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
            "name": "Delete My Message (Any Owner)",
            "request": {
              "url": {
                "path": [
                  "messages",
                  "delete"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "DELETE",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"id\": {{messageIdMine}}\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                  ],
                  "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
                }
              }
            ]
          }
        ],
        "event": []
      }
    ],
    "auth": {
      "type": "bearer",
      "bearer": [
        {
          "type": "string",
          "value": "{{authToken}}",
          "key": "token"
        }
      ]
    },
    "event": [],
    "variable": [],
    "info": {
      "_postman_id": "digitopia-collection-0001",
      "name": "Digitopia Full API Collection",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2025-09-22T07:30:00.000Z",
      "postman_exported_using": "Cascade-Generator"
    },
    "id": "digitopia-env-0001",
    "name": "API Test Environment",
    "values": [
      {
        "type": "any",
        "value": "http://localhost:3000/api",
        "key": "baseUrl"
      },
      {
        "type": "any",
        "value": "youssefkassab2006@gmail.com",
        "key": "adminEmail"
      },
      {
        "type": "any",
        "value": "Password@123456",
        "key": "adminPassword"
      },
      {
        "type": "any",
        "value": "manager+1758648920883@example.com",
        "key": "managerEmail"
      },
      {
        "type": "any",
        "value": "Manager12345!",
        "key": "managerPassword"
      },
      {
        "type": "any",
        "value": "user+1758648921883@example.com",
        "key": "userEmail"
      },
      {
        "type": "any",
        "value": "User12345!",
        "key": "userPassword"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTI4LCJleHAiOjE3NTg2NTI1Mjh9.P7iwEQRcLstirUQvYqwOXaiPPtebAhdzqVNpay_Udec",
        "key": "authToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIwLCJleHAiOjE3NTg2NTI1MjB9.fhyLWwwntEpTmrFDAll8hxj53fMUInHvxSfFb1gSxtg",
        "key": "adminToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
        "key": "managerToken"
      },
      {
        "type": "any",
        "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjIsImV4cCI6MTc1ODY1MjUyMn0.phRGVrm-wMviDx_OMYuIAeJkIXLgjmfM6cAZdpIGFfQ",
        "key": "userToken"
      },
      {
        "type": "any",
        "value": "",
        "key": "myCourseId"
      },
      {
        "type": "any",
        "value": 21,
        "key": "otherCourseId"
      },
      {
        "type": "any",
        "value": "",
        "key": "tagId"
      },
      {
        "type": "any",
        "value": "",
        "key": "messageIdMine"
      },
      {
        "type": "any",
        "value": "",
        "key": "messageIdOther"
      },
      {
        "type": "any",
        "value": 83,
        "key": "targetUserId"
      },
      {
        "type": "any",
        "value": 83,
        "key": "managerId"
      },
      {
        "type": "any",
        "value": 84,
        "key": "userId"
      }
    ]
  },
  "globals": {
    "id": "204e0b99-ea2e-4981-9f25-01ae36c6196b",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 59,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 48,
        "pending": 0,
        "failed": 8
      },
      "testScripts": {
        "total": 46,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 13,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 109.30434782608694,
      "responseMin": 3,
      "responseMax": 673,
      "responseSd": 117.08430065280862,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1758648920077,
      "completed": 1758648928461
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 46,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "922908c6-caf4-4635-b46d-11a632c54d8d",
          "httpRequestId": "f9fda562-f02d-4868-b6bc-1a024334206c"
        },
        "item": {
          "id": "cdf152af-7de9-48b3-9dac-110d50ff299c",
          "name": "Admin Login (Start)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b29c6031-a663-42fd-aa12-7ba3b2f587c7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.expect(j).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('adminToken', j.token);"
                ],
                "_lastExecutionId": "fbfb64f3-2a99-45c8-b8ee-43ada62d9a72"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2350e847-e221-4996-9d63-3a17614a86b7",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "a4c1ac6c-9bec-47d0-86ce-5b5ca4eff24c",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "99"
            },
            {
              "key": "RateLimit-Reset",
              "value": "900"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-yhZ/eBMtII5n/C6W1Ju+LMQDEWU\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:20 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              119,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              84,
              73,
              49,
              77,
              106,
              66,
              57,
              46,
              102,
              104,
              121,
              76,
              87,
              119,
              119,
              110,
              116,
              69,
              112,
              84,
              109,
              114,
              70,
              68,
              65,
              108,
              108,
              56,
              104,
              120,
              106,
              53,
              51,
              102,
              77,
              85,
              73,
              110,
              72,
              118,
              120,
              83,
              102,
              70,
              98,
              49,
              103,
              83,
              120,
              116,
              103,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 673,
          "responseSize": 320
        },
        "id": "cdf152af-7de9-48b3-9dac-110d50ff299c",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "47f9cb33-6a27-46d4-817a-97621cc672f1",
          "length": 46,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "f454c13b-bed7-49e5-89f5-f942ed599d78"
        },
        "item": {
          "id": "d4f9cc15-cb29-4359-ac15-aee66295aef3",
          "name": "Ensure Manager Signup",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\",\n  \"national_number\": \"MNGR{{$timestamp}}\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d284b39c-190d-47c6-b7ba-c10cd0fc196a",
                "type": "text/javascript",
                "exec": [
                  "if (!pm.environment.get('managerEmail') || pm.environment.get('managerEmail').endsWith('@example.com')) { pm.environment.set('managerEmail','manager+'+Date.now()+'@example.com'); }"
                ],
                "_lastExecutionId": "75597bf9-d58b-4200-8d16-e098a7eb1823"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7bc60292-04e8-4141-8e3e-603e8dbb674e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                ],
                "_lastExecutionId": "27a81e50-1ac1-465c-a8db-f08d4868fe49"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIwLCJleHAiOjE3NTg2NTI1MjB9.fhyLWwwntEpTmrFDAll8hxj53fMUInHvxSfFb1gSxtg",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f835d8ba-6d7c-4938-8586-3113bf2d2bb6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "182",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Auto Manager\",\n  \"email\": \"manager+1758648920883@example.com\",\n  \"password\": \"Manager12345!\",\n  \"national_number\": \"MNGR1758648921\",\n  \"Grade\": 10,\n  \"role\": \"teacher\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIwLCJleHAiOjE3NTg2NTI1MjB9.fhyLWwwntEpTmrFDAll8hxj53fMUInHvxSfFb1gSxtg",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "3034b96b-6996-4a59-92b0-b00547f60f10",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "98"
            },
            {
              "key": "RateLimit-Reset",
              "value": "900"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 297,
          "responseSize": 40
        },
        "id": "d4f9cc15-cb29-4359-ac15-aee66295aef3",
        "assertions": [
          {
            "assertion": "201/409/400/429 acceptable",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "0c60bac9-ec79-4530-b233-26c4816c83ad",
          "length": 46,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "9348398b-cf0d-4e63-ba00-c1dd82e53021"
        },
        "item": {
          "id": "5c5238f7-2c66-47d3-a810-8ce41bc1a169",
          "name": "Manager Login (Capture managerId)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e393d0a-1250-4297-9cf8-9b2d73df2c4d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('managerToken', j.token);"
                ],
                "_lastExecutionId": "62121360-b3e7-4669-b39c-3eb198c82e95"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIwLCJleHAiOjE3NTg2NTI1MjB9.fhyLWwwntEpTmrFDAll8hxj53fMUInHvxSfFb1gSxtg",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "0a5c76ec-08c1-4094-b15d-a61ec38738f2",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "81",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"manager+1758648920883@example.com\",\n  \"password\": \"Manager12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIwLCJleHAiOjE3NTg2NTI1MjB9.fhyLWwwntEpTmrFDAll8hxj53fMUInHvxSfFb1gSxtg",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "9a49e285-e425-455c-9625-d41b21bf26f7",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "97"
            },
            {
              "key": "RateLimit-Reset",
              "value": "899"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "339"
            },
            {
              "key": "ETag",
              "value": "W/\"153-2mnR/DeHmPE3LZ12U7h0nlFzi8w\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              98,
              87,
              70,
              117,
              89,
              87,
              100,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              119,
              79,
              68,
              103,
              122,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              82,
              108,
              89,
              87,
              78,
              111,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              103,
              53,
              77,
              106,
              69,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              49,
              77,
              106,
              85,
              121,
              77,
              88,
              48,
              46,
              116,
              77,
              105,
              77,
              84,
              89,
              103,
              69,
              54,
              81,
              78,
              75,
              67,
              57,
              98,
              86,
              82,
              53,
              54,
              119,
              81,
              104,
              73,
              109,
              80,
              99,
              99,
              54,
              108,
              115,
              73,
              89,
              70,
              118,
              117,
              69,
              98,
              75,
              122,
              57,
              108,
              109,
              65,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              48,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 184,
          "responseSize": 339
        },
        "id": "5c5238f7-2c66-47d3-a810-8ce41bc1a169",
        "assertions": [
          {
            "assertion": "Login 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "8b6eff5b-9c5f-450e-8f3d-44f36d909a1b",
          "length": 46,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "fca829f6-ea23-44d3-a75f-3b3116adcca0"
        },
        "item": {
          "id": "205963db-f201-42a6-82b7-9e67f5562832",
          "name": "Get Manager Profile -> managerId",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "562a77ea-924c-4025-958f-71e35eae90a5",
                "type": "text/javascript",
                "exec": [
                  "pm.test('200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.environment.set('managerId', j.id); pm.environment.set('targetUserId', j.id);"
                ],
                "_lastExecutionId": "4efb6531-c0f9-4d43-912d-f6014f4768fc"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "987066fb-6af9-42e3-b45c-bd525415149f",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "bf217334-90e0-495b-b5eb-fc52302473a3",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "140"
            },
            {
              "key": "ETag",
              "value": "W/\"8c-yESMgCIVjjHBLBH3s9XfzYULX3c\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              51,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              77,
              97,
              110,
              97,
              103,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              48,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              77,
              78,
              71,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              49,
              48,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 107,
          "responseSize": 140
        },
        "id": "205963db-f201-42a6-82b7-9e67f5562832",
        "assertions": [
          {
            "assertion": "200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "fe541e73-2cd7-4916-92c2-a6c620b511d1",
          "length": 46,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "93221982-217f-4b7a-89f4-08058644a16a"
        },
        "item": {
          "id": "05336eab-7407-4172-80b6-91fb1d3cd8d0",
          "name": "Admin Upgrade Manager -> Teacher (No-op when direct teacher signup)",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ce2e32ef-fed7-46a7-9ee2-1f0141f2c2b1",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "406638ef-4746-4281-9921-1cd389590dff"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "5adc6fd0-3f33-4a4d-9c49-2573219cf612",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Admin token valid (200)', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "ec2b3e6f-482f-48aa-86f2-87364dda8153"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d5a9454d-5452-4093-8f23-b64f1eb685f6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "f55e2d57-c260-49c6-b85b-94064c78b1ac",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "140"
            },
            {
              "key": "ETag",
              "value": "W/\"8c-yESMgCIVjjHBLBH3s9XfzYULX3c\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:21 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              51,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              77,
              97,
              110,
              97,
              103,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              48,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              77,
              78,
              71,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              49,
              48,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 140
        },
        "id": "05336eab-7407-4172-80b6-91fb1d3cd8d0",
        "assertions": [
          {
            "assertion": "Admin token valid (200)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "703e773b-50c4-48f6-b133-df0985672294",
          "length": 46,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "8f6ba43d-3bba-4c83-bd20-18fb6e05e2a0"
        },
        "item": {
          "id": "2c7df419-4833-4aeb-aed2-9fda05fa7211",
          "name": "Ensure User Signup",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\",\n  \"national_number\": \"USER{{$timestamp}}\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "1cd728cb-121f-408f-b4a3-299ed92ae7c8",
                "type": "text/javascript",
                "exec": [
                  "if (!pm.environment.get('userEmail') || pm.environment.get('userEmail').endsWith('@example.com')) { pm.environment.set('userEmail','user+'+Date.now()+'@example.com'); }"
                ],
                "_lastExecutionId": "4f395aa2-3862-4dc1-8df2-9b149a150f98"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "899ba84e-d651-478b-b054-c57d2c057fcc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('201/409/400/429 acceptable', ()=>pm.expect([201,409,400,429]).to.include(pm.response.code));"
                ],
                "_lastExecutionId": "acd28b31-a31f-4db6-98ce-ab63b4f2393b"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8ff79847-4467-49d6-a409-81ddd3650d15",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "169",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Auto User\",\n  \"email\": \"user+1758648921883@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"USER1758648922\",\n  \"Grade\": 9,\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "50f858bf-9846-4ac3-844f-cb287bc19562",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "96"
            },
            {
              "key": "RateLimit-Reset",
              "value": "899"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 299,
          "responseSize": 40
        },
        "id": "2c7df419-4833-4aeb-aed2-9fda05fa7211",
        "assertions": [
          {
            "assertion": "201/409/400/429 acceptable",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "6528f618-0e37-453a-a7ca-7b77b4abd882",
          "length": 46,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "fc78fa4a-384b-4e93-803d-7c2cd69e90aa"
        },
        "item": {
          "id": "b46e6659-12e9-407e-83a4-ed3bb69f7243",
          "name": "User Login (Capture userId)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68470bc7-7fd4-4b41-b60d-8773dd755c64",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Login 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token); pm.environment.set('userToken', j.token);"
                ],
                "_lastExecutionId": "304d53ab-002f-48c8-99ec-96390045ce92"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "05d39108-f728-4136-9ca6-f69340ce760a",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "75",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"user+1758648921883@example.com\",\n  \"password\": \"User12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjEsImV4cCI6MTc1ODY1MjUyMX0.tMiMTYgE6QNKC9bVR56wQhImPcc6lsIYFvuEbKz9lmA",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "f9bc0c2d-1f05-430e-88aa-6972223c3692",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "95"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "325"
            },
            {
              "key": "ETag",
              "value": "W/\"145-rfxJkAI4WpvzVc+eXTxc6xyOGHc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              81,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              100,
              88,
              78,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              120,
              79,
              68,
              103,
              122,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              86,
              122,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              103,
              53,
              77,
              106,
              73,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              49,
              77,
              106,
              85,
              121,
              77,
              110,
              48,
              46,
              112,
              104,
              82,
              71,
              86,
              114,
              109,
              45,
              119,
              77,
              118,
              105,
              68,
              120,
              95,
              79,
              77,
              89,
              117,
              73,
              65,
              101,
              74,
              107,
              73,
              88,
              76,
              103,
              106,
              109,
              102,
              77,
              54,
              99,
              65,
              90,
              100,
              112,
              73,
              71,
              70,
              102,
              81,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 190,
          "responseSize": 325
        },
        "id": "b46e6659-12e9-407e-83a4-ed3bb69f7243",
        "assertions": [
          {
            "assertion": "Login 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "7834e2bb-60b4-41ff-9d3a-f6c470856131",
          "length": 46,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "8d675488-965b-4ab5-94d2-1b3a4206f6e4"
        },
        "item": {
          "id": "752f1bf2-81b7-46ea-a0e5-12638b59fb83",
          "name": "Get User Profile -> userId",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "567a9c49-4639-4956-9899-4f714cf68e8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.environment.set('userId', j.id);"
                ],
                "_lastExecutionId": "078d6866-4902-4b81-a81e-0cfe1a7784b2"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjIsImV4cCI6MTc1ODY1MjUyMn0.phRGVrm-wMviDx_OMYuIAeJkIXLgjmfM6cAZdpIGFfQ",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "cddcfbc3-15e2-46ec-9c7f-9f7e0534a0fc",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjIsImV4cCI6MTc1ODY1MjUyMn0.phRGVrm-wMviDx_OMYuIAeJkIXLgjmfM6cAZdpIGFfQ",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "47ea137d-eaa6-4309-8ff7-03ac01624f7c",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "752f1bf2-81b7-46ea-a0e5-12638b59fb83",
        "assertions": [
          {
            "assertion": "200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "369db66f-a1ab-408f-9dd6-8bb391c67668",
          "length": 46,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "865d7f1c-774f-4c42-9bb8-9ce471846cf1"
        },
        "item": {
          "id": "a409ab37-1a6a-4f5a-926c-930ddd8b7073",
          "name": "Admin Login (Ready for tests)",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "388c83e0-44cb-40c2-8b02-756c40bd8dba",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));",
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                ],
                "_lastExecutionId": "cc97578d-10f7-4140-a701-61968b95aaba"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjIsImV4cCI6MTc1ODY1MjUyMn0.phRGVrm-wMviDx_OMYuIAeJkIXLgjmfM6cAZdpIGFfQ",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e7103f50-864a-4792-8476-ee4d156b600d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjIsImV4cCI6MTc1ODY1MjUyMn0.phRGVrm-wMviDx_OMYuIAeJkIXLgjmfM6cAZdpIGFfQ",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "fdda63b5-1566-4837-a972-a4e023df5b1e",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "94"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-cT9U81kdW1jQiB2qGeRvIx3Gfnk\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:22 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              121,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              84,
              73,
              49,
              77,
              106,
              74,
              57,
              46,
              45,
              71,
              81,
              77,
              73,
              66,
              110,
              115,
              101,
              89,
              69,
              84,
              111,
              121,
              87,
              74,
              84,
              103,
              101,
              72,
              82,
              82,
              74,
              65,
              122,
              76,
              121,
              98,
              86,
              74,
              85,
              45,
              48,
              98,
              67,
              72,
              52,
              69,
              84,
              88,
              65,
              82,
              119,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 188,
          "responseSize": 320
        },
        "id": "a409ab37-1a6a-4f5a-926c-930ddd8b7073",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "04ed9682-0781-42eb-a351-32ead5015386",
          "length": 46,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "d3a4f601-3a1b-418f-88aa-a1a4f1dca695"
        },
        "item": {
          "id": "bee3bfaa-029a-4b87-8909-8b685b9aa158",
          "name": "Admin Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "31797476-7887-48ea-8aa7-90c9db3e5d81",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json();",
                  "pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token);",
                  "pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "b3ed8d6b-5318-474f-80ac-b399c3707ed7"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIyLCJleHAiOjE3NTg2NTI1MjJ9.-GQMIBnseYEToyWJTgeHRRJAzLybVJU-0bCH4ETXARw",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "83e0fddc-e83d-4835-aca1-b9c05d000a73",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIyLCJleHAiOjE3NTg2NTI1MjJ9.-GQMIBnseYEToyWJTgeHRRJAzLybVJU-0bCH4ETXARw",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "95f5014b-85f1-4de1-a947-5609b31bacf3",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "93"
            },
            {
              "key": "RateLimit-Reset",
              "value": "898"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-eMHJ8gAWyI0I23TArYkeagi8M2c\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              122,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              84,
              73,
              49,
              77,
              106,
              78,
              57,
              46,
              79,
              85,
              51,
              79,
              90,
              69,
              75,
              51,
              76,
              83,
              75,
              107,
              51,
              102,
              78,
              106,
              72,
              107,
              116,
              111,
              121,
              66,
              75,
              45,
              45,
              100,
              112,
              95,
              57,
              107,
              76,
              79,
              97,
              73,
              79,
              104,
              103,
              120,
              111,
              72,
              48,
              85,
              119,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 187,
          "responseSize": 320
        },
        "id": "bee3bfaa-029a-4b87-8909-8b685b9aa158",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "ca22da16-416c-4514-b490-69c22724c913",
          "length": 46,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "028d5c6e-933a-4cd5-9291-dfc4e9146b66"
        },
        "item": {
          "id": "99c830f7-a731-40c0-b3fe-3d57b37e6cd5",
          "name": "Manager Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{managerEmail}}\",\n  \"password\": \"{{managerPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "344f9359-a40c-4bf0-81b8-e01d73b3dc56",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "ab625d45-33a1-4212-a670-a37fc01d1743"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIzLCJleHAiOjE3NTg2NTI1MjN9.OU3OZEK3LSKk3fNjHktoyBK--dp_9kLOaIOhgxoH0Uw",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "0132fdda-9450-485f-b787-a77fa8e30565",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "81",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"manager+1758648920883@example.com\",\n  \"password\": \"Manager12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTIzLCJleHAiOjE3NTg2NTI1MjN9.OU3OZEK3LSKk3fNjHktoyBK--dp_9kLOaIOhgxoH0Uw",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "ac81eecd-ff51-4113-80a3-f820e6dcf53e",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "92"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "339"
            },
            {
              "key": "ETag",
              "value": "W/\"153-NoVNwe224M1SvIbUrb+gj/hjTwQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              98,
              87,
              70,
              117,
              89,
              87,
              100,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              119,
              79,
              68,
              103,
              122,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              82,
              108,
              89,
              87,
              78,
              111,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              103,
              53,
              77,
              106,
              77,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              49,
              77,
              106,
              85,
              121,
              77,
              51,
              48,
              46,
              71,
              80,
              68,
              72,
              57,
              78,
              84,
              88,
              49,
              76,
              88,
              117,
              77,
              87,
              69,
              70,
              56,
              72,
              108,
              114,
              65,
              119,
              76,
              101,
              81,
              90,
              77,
              80,
              50,
              52,
              65,
              65,
              85,
              49,
              100,
              117,
              104,
              75,
              87,
              110,
              50,
              111,
              65,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              109,
              97,
              110,
              97,
              103,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              48,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 180,
          "responseSize": 339
        },
        "id": "99c830f7-a731-40c0-b3fe-3d57b37e6cd5",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "95cf4354-b554-417f-bb95-8aa71692bcc6",
          "length": 46,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "806016a0-6013-4306-a9de-9fa0a995b83e"
        },
        "item": {
          "id": "57307d96-5f32-4074-82f2-5889f3420718",
          "name": "User Login",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{userEmail}}\",\n  \"password\": \"{{userPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38c8c4ab-1a21-48dd-bac7-7580c65fb315",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var json = pm.response.json(); pm.expect(json).to.have.property('token');",
                  "pm.collectionVariables.set('authToken', json.token); pm.environment.set('authToken', json.token);"
                ],
                "_lastExecutionId": "9157d24e-6e77-456b-9b97-ff8ed4c26357"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GPDH9NTX1LXuMWEF8HlrAwLeQZMP24AAU1duhKWn2oA",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f49c5ef9-edb3-45c9-951f-bc0374022706",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "75",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"user+1758648921883@example.com\",\n  \"password\": \"User12345!\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODMsImVtYWlsIjoibWFuYWdlcisxNzU4NjQ4OTIwODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InRlYWNoZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GPDH9NTX1LXuMWEF8HlrAwLeQZMP24AAU1duhKWn2oA",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "e31739a1-71e6-4549-bb24-ef2a9a93e5bc",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "91"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "325"
            },
            {
              "key": "ETag",
              "value": "W/\"145-cgrD7gJKhwnsDu+5nCI3Fj7Tu0A\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:23 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              79,
              68,
              81,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              100,
              88,
              78,
              108,
              99,
              105,
              115,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              120,
              79,
              68,
              103,
              122,
              81,
              71,
              86,
              52,
              89,
              87,
              49,
              119,
              98,
              71,
              85,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              110,
              86,
              122,
              90,
              88,
              73,
              105,
              76,
              67,
              74,
              112,
              89,
              88,
              81,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              68,
              103,
              53,
              77,
              106,
              77,
              115,
              73,
              109,
              86,
              52,
              99,
              67,
              73,
              54,
              77,
              84,
              99,
              49,
              79,
              68,
              89,
              49,
              77,
              106,
              85,
              121,
              77,
              51,
              48,
              46,
              71,
              120,
              80,
              48,
              117,
              84,
              49,
              120,
              51,
              75,
              81,
              95,
              68,
              110,
              97,
              48,
              81,
              76,
              112,
              121,
              79,
              80,
              121,
              88,
              69,
              53,
              117,
              73,
              90,
              75,
              99,
              108,
              80,
              113,
              82,
              65,
              90,
              112,
              79,
              49,
              110,
              75,
              111,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 219,
          "responseSize": 325
        },
        "id": "57307d96-5f32-4074-82f2-5889f3420718",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "14b003a6-9aed-4031-a916-f90d6a153a84",
          "length": 46,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "b8144163-0598-4253-865d-d54d2205d2d1"
        },
        "item": {
          "id": "41be288b-f8a4-4449-a970-b1dcc322d70f",
          "name": "Signup - Positive",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+{{$timestamp}}@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT{{$timestamp}}\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "000176fa-3308-4a62-a841-dee3b8e1da11",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201/409/400/500 acceptable', function () { pm.expect([201,409,400,500]).to.include(pm.response.code); });",
                  "pm.test('Has message or error', function(){ var j={}; try{j=pm.response.json()}catch(e){}; pm.expect(j).to.be.an('object'); });"
                ],
                "_lastExecutionId": "bfc2fb95-5f08-4d78-a13e-dabaaa53ada8"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "84cb6464-c3c2-4096-bb39-d2a28011fa27",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "165",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test+1758648924@example.com\",\n  \"password\": \"User12345!\",\n  \"national_number\": \"NAT1758648924\",\n  \"Grade\": 8,\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "c7e13d15-353b-42eb-974f-baede57b32d1",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "90"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "40"
            },
            {
              "key": "ETag",
              "value": "W/\"28-7+J4ujuF1IVyrzd07WLRpzlET2Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              108,
              121,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 287,
          "responseSize": 40
        },
        "id": "41be288b-f8a4-4449-a970-b1dcc322d70f",
        "assertions": [
          {
            "assertion": "Status 201/409/400/500 acceptable",
            "skipped": false
          },
          {
            "assertion": "Has message or error",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "d352650e-cdc2-49bf-899a-115e144cfff5",
          "length": 46,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "3c760092-cb47-472c-89ac-83e45c5dea02"
        },
        "item": {
          "id": "340ab7f0-197d-4172-9bd3-10e54ca9c0c2",
          "name": "Signup - Duplicate Email (Negative)",
          "request": {
            "url": {
              "path": [
                "users",
                "signup"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP{{$timestamp}}\",\n  \"role\": \"user\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bf532c65-4ed2-4655-a5b0-960adaec8261",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 409', function () { pm.response.to.have.status(409); });"
                ],
                "_lastExecutionId": "d5fb6cc6-7870-4cdf-b8d3-716dc436e07e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "signup"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3dd86046-cc1e-4959-b46b-f483600413b5",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "151",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Strong1234\",\n  \"national_number\": \"DUP1758648924\",\n  \"role\": \"user\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "47f469a4-053b-436a-a41b-bd12d7a9ce3e",
          "status": "Conflict",
          "code": 409,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "89"
            },
            {
              "key": "RateLimit-Reset",
              "value": "897"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "32"
            },
            {
              "key": "ETag",
              "value": "W/\"20-R3itzQwmnR1Gj/otOwtMwb15SQQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              115,
              101,
              114,
              32,
              97,
              108,
              114,
              101,
              97,
              100,
              121,
              32,
              101,
              120,
              105,
              115,
              116,
              115,
              46,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 32
        },
        "id": "340ab7f0-197d-4172-9bd3-10e54ca9c0c2",
        "assertions": [
          {
            "assertion": "Status is 409",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "1cc3363d-29e9-4a8d-a128-9fc05dd3b71d",
          "length": 46,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "e7e7ec52-3e8c-4ef1-b1de-3afeaa002460"
        },
        "item": {
          "id": "cea86cad-1768-4804-905d-f51b648dc6f3",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ce8d64bb-1250-4e6f-83db-844e93067d92",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "6b4ad6c7-6b94-48e5-86dc-0b15749be4e3"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "77b97a5c-2e36-4aa2-8e03-c235d194182f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "ce9e6352-ec50-4577-9953-21b9dcbc83fc"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6d3d8f24-276c-4ce2-a475-0187020d6db8",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "9cb4a7d5-9adf-446e-bd16-7ad82ca5020e",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "cea86cad-1768-4804-905d-f51b648dc6f3",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "bf975c0a-13c3-4503-b7a2-07751c6add6f",
          "length": 46,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "48d7ab3d-a453-4e6e-a9b5-66dce9676cdf"
        },
        "item": {
          "id": "beb881e0-2aaa-4892-88f7-6abf94373c71",
          "name": "Get Current User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "db0e756e-3412-4f5d-a53e-2ffcd2c860dd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status is 200', function () { pm.response.to.have.status(200); });",
                  "var j = pm.response.json(); pm.expect(j).to.have.property('id'); pm.expect(j).to.have.property('email');"
                ],
                "_lastExecutionId": "f70d7fc3-e993-4916-98eb-dc1111ad1367"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c88ecc30-82bc-4014-a25c-bba46dcd6d87",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "f648e5c9-7493-40ae-8e53-39c4fa9490b8",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "beb881e0-2aaa-4892-88f7-6abf94373c71",
        "assertions": [
          {
            "assertion": "Status is 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "d524254e-e40b-4ca0-b106-b90ccbdc69e5",
          "length": 46,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "84c9b549-a45d-487e-863e-8429d8827654"
        },
        "item": {
          "id": "cc19c28d-7dc9-4060-b1da-2a61b088ee0b",
          "name": "Upgrade Role - Admin Success",
          "request": {
            "url": {
              "path": [
                "users",
                "upgradeRole"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"teacher\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "406840f4-66f4-4ee4-aafe-ff5eb9791894",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200 or 403 (env-dependent admin)', function(){ pm.expect([200,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "acf12a61-4790-4890-984c-741e67dc7934"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "upgradeRole"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "323e13fc-7eb1-4eed-89eb-abdd232d65ac",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "35",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 83,\n  \"role\": \"teacher\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "1c072b2a-0ea5-4061-b65a-56ff51fab23b",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 8,
          "responseSize": 49
        },
        "id": "cc19c28d-7dc9-4060-b1da-2a61b088ee0b",
        "assertions": [
          {
            "assertion": "Status 200 or 403 (env-dependent admin)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "f3d4a0be-3361-4495-9743-843982a013da",
          "length": 46,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "da36ce8e-6c82-4a27-b51a-07b6a8e82c4d"
        },
        "item": {
          "id": "f8d00f2c-7210-4162-a51f-354d47a846dc",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "272770e0-4f81-449a-bf01-1c67bc4319e4",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "413ee516-3a89-4214-adad-4fa2b1eb5994"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "881c1f56-aea8-4f5d-a2cf-298a181156e3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "752f148e-a03e-4acf-afad-cbe0b48b93ea"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f870753a-03d7-4dd3-be1c-aa3545f9a905",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "62519896-9a63-4541-bc55-b2162ef25eee",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:24 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "f8d00f2c-7210-4162-a51f-354d47a846dc",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "f73c2ffb-2ac2-4902-bf28-879c20b0cf70",
          "length": 46,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "83697c34-ee42-4418-9fea-620dd68f443f"
        },
        "item": {
          "id": "ed0e4664-0a1a-4cc2-8eaf-705f5b64a37b",
          "name": "Upgrade Role - User Forbidden",
          "request": {
            "url": {
              "path": [
                "users",
                "upgradeRole"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{targetUserId}},\n  \"role\": \"admin\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "006fc333-3121-46de-a71a-79a725d557de",
                "type": "text/javascript",
                "exec": [
                  "// ensure user token in place by logging in as User via previous Auth->User Login before running this"
                ],
                "_lastExecutionId": "aabf48a4-b5cc-4610-97dc-a725157da823"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9e7c1bcb-0ff2-4133-92d2-fc1305b1ca5a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Forbidden for non-admin', function(){ pm.expect([401,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "cc011a38-996b-4084-ab2a-befb05bfd581"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "upgradeRole"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1862ca25-02d9-4390-acc9-58de462e89b8",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "33",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 83,\n  \"role\": \"admin\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "87e95bc2-47fb-4702-9558-c40949ac7a13",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 5,
          "responseSize": 49
        },
        "id": "ed0e4664-0a1a-4cc2-8eaf-705f5b64a37b",
        "assertions": [
          {
            "assertion": "Forbidden for non-admin",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "760138e3-1295-4234-8fea-4622c39fcec8",
          "length": 46,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "f100fcc8-d3e3-48fd-9763-536e17c0307f"
        },
        "item": {
          "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
          "name": "Switch -> Manager",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                ],
                "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "71bd5aaa-fb5e-46bc-9f9a-23c982694d07",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "4cb01800-f23c-4034-9130-fa02a396ceeb",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 107,
          "responseSize": 130
        },
        "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b38f4e33-be06-4518-9c5c-f0c7946814f6",
          "length": 46,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "8a4eaadc-87b0-48b1-8b2c-ee483066465c"
        },
        "item": {
          "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
          "name": "Public - Get All Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "all"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6879d865-f103-4226-be9b-039287e36d78",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                ],
                "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "all"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2c47aacc-47e4-4e25-8053-8468d242e956",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "fb91b27e-5263-49ab-a9e7-51b7a887e869",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "233"
            },
            {
              "key": "ETag",
              "value": "W/\"e9-8kwpctGg6kW9hMe8/Po6s8V65dM\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              106,
              104,
              102,
              115,
              107,
              106,
              104,
              102,
              107,
              106,
              104,
              115,
              107,
              106,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              48,
              48,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              51,
              55,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              57,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              65,
              100,
              109,
              105,
              110,
              32,
              68,
              101,
              115,
              99,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              49,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 233
        },
        "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          },
          {
            "assertion": "Response is array",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "bf3264b2-e358-4bf9-b19b-42ef24d9aaaf",
          "length": 46,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "e4cdf860-3a3c-4bbe-bf4e-bbaaf7d78634"
        },
        "item": {
          "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
          "name": "Manager - Create Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "create"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "create"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "918d5f5a-4ddb-45f8-b7d0-9dc58439c065",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "86",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Course 966\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "9dfa5601-fb9c-4f0c-b80c-25f018655d63",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "88"
            },
            {
              "key": "RateLimit-Reset",
              "value": "895"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 5,
          "responseSize": 58
        },
        "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
        "assertions": [
          {
            "assertion": "Created 201 or 403 (role mismatch)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "e033c0b5-b327-4fe6-bb41-bece2df9b03c",
          "length": 46,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "39496590-f1dc-49a2-9ebb-0cb98feda2b4"
        },
        "item": {
          "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f5bd1969-70fa-4c73-98b8-debdea3be16b",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "a5100279-9467-4dea-ba8f-caa9d8814de2",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "a5f7f2af-fb6e-43b1-bf79-b13702241ca4",
          "length": 46,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e545750e-3c60-47b6-aeb1-bf08521b4407"
        },
        "item": {
          "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
          "name": "Admin - Create Course for Teacher",
          "request": {
            "url": {
              "path": [
                "courses",
                "create"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "create"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "9986cc44-0a05-4838-88ae-d15c82ea319e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "101",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Admin Course 643\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": 83\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "95fe5483-a983-464d-8faa-aac2dad4a488",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "87"
            },
            {
              "key": "RateLimit-Reset",
              "value": "895"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 7,
          "responseSize": 58
        },
        "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
        "assertions": [
          {
            "assertion": "Created 201 or 403 (admin can create for teacher)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "52c139d7-ce8c-4000-a48c-2e9aad61dbd0",
          "length": 46,
          "cycles": 1,
          "position": 24,
          "iteration": 0,
          "httpRequestId": "fb7a53c7-110c-4884-8003-be257ef66fe7"
        },
        "item": {
          "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
          "name": "Switch -> Manager",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                ],
                "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1ab2cc32-ae14-48fe-b07c-989a580a4ece",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "210cb57a-1631-4022-928e-7a8203815926",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 101,
          "responseSize": 130
        },
        "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "979b75be-50fd-4ede-842b-058cfe38b56d",
          "length": 46,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b76cf765-cc48-41df-9de6-26ebf97ed140"
        },
        "item": {
          "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
          "name": "Manager - Get My Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "teacher",
                "mycourses"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                ],
                "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "teacher",
              "mycourses"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f35ba8ce-eba2-4849-8b75-045b054e6c6c",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "648d414d-284f-49e8-bc5d-e80c193d866b",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:25 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 58
        },
        "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:26)"
            }
          },
          {
            "assertion": "Capture myCourseId owned by manager",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "dae32097-1b04-4d2e-b9b0-b8eca9df3833",
          "length": 46,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "e87bc193-dcd1-49e0-b925-1bbd8252e743"
        },
        "item": {
          "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
          "name": "Pick Other Course (teacher_id != managerId)",
          "request": {
            "url": {
              "path": [
                "courses",
                "all"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                "type": "text/javascript",
                "exec": [
                  "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                ],
                "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "all"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "fe96b3a2-ea81-4d17-afda-2c9e141b47ba",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "3574bd8e-6bf9-4735-8b80-db75d1450a93",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "233"
            },
            {
              "key": "ETag",
              "value": "W/\"e9-8kwpctGg6kW9hMe8/Po6s8V65dM\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              106,
              104,
              102,
              115,
              107,
              106,
              104,
              102,
              107,
              106,
              104,
              115,
              107,
              106,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              49,
              48,
              48,
              48,
              46,
              48,
              48,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              51,
              55,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              57,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              85,
              112,
              100,
              97,
              116,
              101,
              100,
              32,
              78,
              97,
              109,
              101,
              34,
              44,
              34,
              100,
              101,
              115,
              99,
              114,
              105,
              112,
              116,
              105,
              111,
              110,
              34,
              58,
              34,
              65,
              100,
              109,
              105,
              110,
              32,
              68,
              101,
              115,
              99,
              34,
              44,
              34,
              112,
              114,
              105,
              99,
              101,
              34,
              58,
              34,
              57,
              57,
              46,
              57,
              57,
              34,
              44,
              34,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              95,
              105,
              100,
              34,
              58,
              52,
              49,
              44,
              34,
              116,
              97,
              103,
              115,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              44,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 233
        },
        "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec"
      },
      {
        "cursor": {
          "ref": "fefea56c-24cd-48a9-84cb-cf196fc39353",
          "length": 46,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "413e7e88-9560-44ca-82ea-5f23ae95d2da"
        },
        "item": {
          "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
          "name": "Manager - Find Own Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{myCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                  "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                ],
                "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "find",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a88d5aff-f316-45f7-8924-71ec05a607ff",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "2503aa5c-a1dd-455f-a55b-4f9f98f49157",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "21"
            },
            {
              "key": "ETag",
              "value": "W/\"15-bm7tJgu8FHlq5QU+Y6gDxOGPfRc\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              78,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 3,
          "responseSize": 21
        },
        "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
        "assertions": [
          {
            "assertion": "Own course lookup behaves",
            "skipped": false
          },
          {
            "assertion": "Has id when myCourseId is set",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "98afd530-d8a3-45aa-90ae-35a191297a3a",
          "length": 46,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "f5828553-be53-40b7-936c-e8f1ea7c6226"
        },
        "item": {
          "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
          "name": "Manager - Find Other's Course (Negative)",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{otherCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                ],
                "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "find",
              "21"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a4443b13-045b-4b89-b8f5-81b161d624f5",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "0654ad7c-bd52-4334-a067-df6abe623f63",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": []
          },
          "cookie": [],
          "responseTime": 108,
          "responseSize": 0
        },
        "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
        "assertions": [
          {
            "assertion": "Negative when different owner else OK",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Negative when different owner else OK",
              "message": "expected [ 404, 500 ] to include 200",
              "stack": "AssertionError: expected [ 404, 500 ] to include 200\n   at Object.eval sandbox-script.js:1:29)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "7f93e86b-b061-4883-bc5d-cdd3f859eb7e",
          "length": 46,
          "cycles": 1,
          "position": 29,
          "iteration": 0,
          "httpRequestId": "9a95b15d-2ef4-4058-b3cf-3dc37e0bf164"
        },
        "item": {
          "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
          "name": "Manager - Update Course (Fields)",
          "request": {
            "url": {
              "path": [
                "courses",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "282ebc98-26ab-4a8b-a308-dd6b0d261b38",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "38",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"name\": \"Updated Name\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "4a9371a3-722f-4e94-9bef-f2dd3252305f",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "88"
            },
            {
              "key": "ETag",
              "value": "W/\"58-CAH2qtg9k9mIqj7tex4q0UuLGwU\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              110,
              97,
              109,
              101,
              92,
              34,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 8,
          "responseSize": 88
        },
        "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
        "assertions": [
          {
            "assertion": "Update fields on own course",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "13af8e4c-1ba1-4d4e-9507-bf2c0764a575",
          "length": 46,
          "cycles": 1,
          "position": 30,
          "iteration": 0,
          "httpRequestId": "5e6dd316-29eb-47ab-b434-2a6408530788"
        },
        "item": {
          "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
          "name": "Manager - Update Course (Tags Only)",
          "request": {
            "url": {
              "path": [
                "courses",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "032e8ca5-0a84-4bcb-807f-97ab0b7144e2",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "31",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"tags\": [1,3,5]\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "7effa482-aacc-4beb-8489-0defbe229388",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "88"
            },
            {
              "key": "ETag",
              "value": "W/\"58-ez5tdo/tsxqRA7aD3KuGDMcBAcA\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              116,
              97,
              103,
              115,
              92,
              34,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 6,
          "responseSize": 88
        },
        "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
        "assertions": [
          {
            "assertion": "Update tags on own course",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "3e9d199e-0e98-4be0-a5b7-ba407ef66550",
          "length": 46,
          "cycles": 1,
          "position": 31,
          "iteration": 0,
          "httpRequestId": "7ca4db3a-3e07-44bc-a9d8-2434741db97e"
        },
        "item": {
          "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
          "name": "Manager - Delete Own Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{myCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                ],
                "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3ba7b8ba-a865-4425-b294-2df922cca678",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "c8c47424-7e28-46a4-82ce-f24854aa09aa",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 6,
          "responseSize": 72
        },
        "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
        "assertions": [
          {
            "assertion": "Delete own course (requires id)",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "277cb81b-467d-40e0-963e-2de9652a6f04",
          "length": 46,
          "cycles": 1,
          "position": 32,
          "iteration": 0,
          "httpRequestId": "88983049-d289-4b6f-a97b-e2716eed2318"
        },
        "item": {
          "id": "2b560e33-261e-437e-a642-3990179f4e47",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "be66ac40-5314-40ee-b470-9c41623bb57d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "48559987-60d5-4114-b12b-762e9981b81b",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 103,
          "responseSize": 130
        },
        "id": "2b560e33-261e-437e-a642-3990179f4e47",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "0546ba7b-f67f-43a2-a305-3cc66adcf357",
          "length": 46,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "1c66611f-76f9-4c40-a970-15379450ef81"
        },
        "item": {
          "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
          "name": "Admin - Delete Any Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{otherCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "dee7221f-85fc-44ba-a96d-cef6be1db6d7",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "14",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": 21\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "b414c586-6931-4ca5-b0f3-0fa66092f193",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-kfMQV6JxgnZsytq4DDS95PZIHmQ\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:26 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              44,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 58
        },
        "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
        "assertions": [
          {
            "assertion": "Status 200/404/500",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200/404/500",
              "message": "expected [ 200, 404, 500 ] to include 403",
              "stack": "AssertionError: expected [ 200, 404, 500 ] to include 403\n   at Object.eval sandbox-script.js:1:34)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ce1f97c6-7e0a-4623-9689-8184e1709d95",
          "length": 46,
          "cycles": 1,
          "position": 34,
          "iteration": 0,
          "httpRequestId": "3934aaa5-659c-47ce-a36a-72370abf2962"
        },
        "item": {
          "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
          "name": "Get Tags",
          "request": {
            "url": {
              "path": [
                "courses",
                "tags"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "tags"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8229598e-24a7-4ad6-b2ce-5dfc6c900b87",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "b86df02c-9478-48ac-bc5a-26ad24f121e5",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "351"
            },
            {
              "key": "ETag",
              "value": "W/\"15f-QtcAgCThwuTG7b7GnUVkELymv9Y\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              50,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              50,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              53,
              56,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              53,
              51,
              48,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              84,
              97,
              103,
              55,
              48,
              55,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              54,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              52,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              44,
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              77,
              97,
              116,
              104,
              55,
              34,
              44,
              34,
              99,
              114,
              101,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              44,
              34,
              117,
              112,
              100,
              97,
              116,
              101,
              100,
              65,
              116,
              34,
              58,
              110,
              117,
              108,
              108,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 101,
          "responseSize": 351
        },
        "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "55525b27-d5a2-402e-9d10-e5741161c452",
          "length": 46,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "7ab4a277-1e71-40af-b562-44abcd4d1802"
        },
        "item": {
          "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
          "name": "Create Tag (Manager/Admin)",
          "request": {
            "url": {
              "path": [
                "courses",
                "tag"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "courses",
              "tag"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "63f823ab-770e-4115-aac2-a7c780e0acd6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "33",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Tag390_1758648927\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "58420d2e-4caa-4081-a0f3-fd71c26687bf",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "58"
            },
            {
              "key": "ETag",
              "value": "W/\"3a-UWhRxJNTddVKc9KZvN4s3cjMVyA\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              44,
              32,
              116,
              101,
              97,
              99,
              104,
              101,
              114,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 6,
          "responseSize": 58
        },
        "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:36)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4bad0481-261f-433a-9f0b-d3e61eac591e",
          "length": 46,
          "cycles": 1,
          "position": 36,
          "iteration": 0,
          "httpRequestId": "2659a302-b732-4400-955c-23120bef800c"
        },
        "item": {
          "id": "62871daa-4189-4abd-8169-7adbae921d86",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6140a4e9-7bca-440f-ad2d-2eaefd8e59a9",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "5dddd69f-843a-4fe2-a89c-bc5eb721afe8",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 130
        },
        "id": "62871daa-4189-4abd-8169-7adbae921d86",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "00439427-191d-4c44-a3d0-928ab6873db2",
          "length": 46,
          "cycles": 1,
          "position": 37,
          "iteration": 0,
          "httpRequestId": "436a2ed2-e74e-47a0-940f-937ab4feb4df"
        },
        "item": {
          "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
          "name": "Send Message (as logged-in user)",
          "request": {
            "url": {
              "path": [
                "messages",
                "send"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                  "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                ],
                "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "send"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "5a31402d-7797-4efa-bea2-d18e38d29906",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "91",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"senderEmail\": \"user+1758648921883@example.com\",\n  \"content\": \"Hello from my account\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "b2b8a23f-ec34-4094-b7d4-4548c4a0b9a7",
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "3;w=600"
            },
            {
              "key": "RateLimit-Limit",
              "value": "3"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "2"
            },
            {
              "key": "RateLimit-Reset",
              "value": "600"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "170"
            },
            {
              "key": "ETag",
              "value": "W/\"aa-3xMcUyj5Ywyjh6oOblD8XK/hjHM\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              115,
              101,
              110,
              100,
              101,
              114,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              99,
              111,
              110,
              116,
              101,
              110,
              116,
              34,
              58,
              34,
              72,
              101,
              108,
              108,
              111,
              32,
              102,
              114,
              111,
              109,
              32,
              109,
              121,
              32,
              97,
              99,
              99,
              111,
              117,
              110,
              116,
              34,
              44,
              34,
              115,
              101,
              101,
              110,
              34,
              58,
              48,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              100,
              97,
              116,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              84,
              49,
              55,
              58,
              51,
              53,
              58,
              50,
              55,
              46,
              51,
              49,
              56,
              90,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              116,
              105,
              109,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              84,
              49,
              55,
              58,
              51,
              53,
              58,
              50,
              55,
              46,
              51,
              49,
              56,
              90,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 170
        },
        "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "38c0e4f9-e112-4ede-a59e-9811c4eba6d2",
          "length": 46,
          "cycles": 1,
          "position": 38,
          "iteration": 0,
          "httpRequestId": "524db79c-fecd-42be-9002-81990fbeef07"
        },
        "item": {
          "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                ],
                "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "eb554eee-c0e6-44fa-b93f-7b04a6e43280",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "4d00c45c-dcac-44c0-a188-286a4e7a070d",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 101,
          "responseSize": 130
        },
        "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "83974679-7c70-48ad-8b67-23f8a480dc63",
          "length": 46,
          "cycles": 1,
          "position": 39,
          "iteration": 0,
          "httpRequestId": "55e1569b-4ed7-48da-8bd0-0a5869e52825"
        },
        "item": {
          "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
          "name": "Admin - Get All Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "receiveAll"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d9698049-4353-402b-84e9-55210705cd46",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "receiveAll"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4c3d0df3-2f9c-496d-8fdf-16e0a826d6df",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "13a84d7f-2b98-435a-80b3-0f177192bb46",
          "status": "Forbidden",
          "code": 403,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "49"
            },
            {
              "key": "ETag",
              "value": "W/\"31-ID7GsnvFH09a+x8qoFEEb0oEZCg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              65,
              99,
              99,
              101,
              115,
              115,
              32,
              100,
              101,
              110,
              105,
              101,
              100,
              46,
              32,
              82,
              101,
              113,
              117,
              105,
              114,
              101,
              115,
              32,
              114,
              111,
              108,
              101,
              58,
              32,
              97,
              100,
              109,
              105,
              110,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 49
        },
        "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 403",
              "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:40)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "f3c91c27-71e9-4333-a249-e2c2eade7372",
          "length": 46,
          "cycles": 1,
          "position": 40,
          "iteration": 0,
          "httpRequestId": "589c5043-bcc9-448c-b8b7-830365b383d7"
        },
        "item": {
          "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
          "name": "Switch -> User",
          "request": {
            "url": {
              "path": [
                "users",
                "user"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                ],
                "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "user"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "0651f436-9de0-4c03-a7aa-c54f3531219e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "045a2f3b-69cc-4fa3-ad5e-f760fef2bd1d",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "130"
            },
            {
              "key": "ETag",
              "value": "W/\"82-eLru3PaYktIn86kwCRooCv8jbkw\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              105,
              100,
              34,
              58,
              56,
              52,
              44,
              34,
              110,
              97,
              109,
              101,
              34,
              58,
              34,
              65,
              117,
              116,
              111,
              32,
              85,
              115,
              101,
              114,
              34,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              110,
              97,
              116,
              105,
              111,
              110,
              97,
              108,
              95,
              110,
              117,
              109,
              98,
              101,
              114,
              34,
              58,
              34,
              85,
              83,
              69,
              82,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              50,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              34,
              44,
              34,
              71,
              114,
              97,
              100,
              101,
              34,
              58,
              34,
              57,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 102,
          "responseSize": 130
        },
        "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "16f734a2-a33e-4231-8909-9955d92d94d0",
          "length": 46,
          "cycles": 1,
          "position": 41,
          "iteration": 0,
          "httpRequestId": "bfc864f3-1685-486e-a7f1-a45ba92c853c"
        },
        "item": {
          "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
          "name": "My Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "MyMessages"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "MyMessages"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "72947964-0eb2-4b72-be20-5ab0aad70626",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "7a035c5c-21f8-4c08-bf2d-95697a2e92e4",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "164"
            },
            {
              "key": "ETag",
              "value": "W/\"a4-8OFZFGtqW+IXTOyU6S4ccsT7bsg\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:27 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              91,
              123,
              34,
              105,
              100,
              34,
              58,
              51,
              55,
              44,
              34,
              115,
              101,
              110,
              100,
              101,
              114,
              34,
              58,
              34,
              117,
              115,
              101,
              114,
              43,
              49,
              55,
              53,
              56,
              54,
              52,
              56,
              57,
              50,
              49,
              56,
              56,
              51,
              64,
              101,
              120,
              97,
              109,
              112,
              108,
              101,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              101,
              99,
              101,
              105,
              118,
              101,
              114,
              34,
              58,
              34,
              34,
              44,
              34,
              99,
              111,
              110,
              116,
              101,
              110,
              116,
              34,
              58,
              34,
              72,
              101,
              108,
              108,
              111,
              32,
              102,
              114,
              111,
              109,
              32,
              109,
              121,
              32,
              97,
              99,
              99,
              111,
              117,
              110,
              116,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              100,
              97,
              116,
              101,
              34,
              58,
              34,
              50,
              48,
              50,
              53,
              45,
              48,
              57,
              45,
              50,
              51,
              34,
              44,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              95,
              116,
              105,
              109,
              101,
              34,
              58,
              34,
              50,
              48,
              58,
              51,
              53,
              58,
              50,
              55,
              34,
              44,
              34,
              115,
              101,
              101,
              110,
              34,
              58,
              48,
              125,
              93
            ]
          },
          "cookie": [],
          "responseTime": 101,
          "responseSize": 164
        },
        "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "2946367b-ea12-48e0-9129-21701ed48153",
          "length": 46,
          "cycles": 1,
          "position": 42,
          "iteration": 0,
          "httpRequestId": "a175e3cc-a0a5-4e12-b099-b8001d6dc67d"
        },
        "item": {
          "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
          "name": "Update My Message",
          "request": {
            "url": {
              "path": [
                "messages",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "update"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "bd3b5ed7-738f-43a4-9500-22e0d4d77a43",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "44",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": ,\n  \"content\": \"Updated content\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "1442e097-8a53-43f3-9446-2bf954fb99f0",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "87"
            },
            {
              "key": "ETag",
              "value": "W/\"57-77pDEf4zgfFAQ0zElgsQnf97pmQ\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:28 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              44,
              39,
              44,
              32,
              46,
              46,
              46,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              44,
              92,
              110,
              32,
              32,
              92,
              34,
              99,
              111,
              110,
              116,
              101,
              92,
              34,
              46,
              46,
              46,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 87
        },
        "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:43)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b3a64ee0-4be4-4da1-b68f-012fba5462f9",
          "length": 46,
          "cycles": 1,
          "position": 43,
          "iteration": 0,
          "httpRequestId": "ca7b2287-3505-46b7-a44a-42b3969fcc4d"
        },
        "item": {
          "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
          "name": "Switch -> Admin",
          "request": {
            "url": {
              "path": [
                "users",
                "login"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                "type": "text/javascript",
                "exec": [
                  "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                ],
                "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "users",
              "login"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "07720151-759c-48cc-9bea-f5c7e05dfc10",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "77",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"email\": \"youssefkassab2006@gmail.com\",\n  \"password\": \"Password@123456\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ODQsImVtYWlsIjoidXNlcisxNzU4NjQ4OTIxODgzQGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTg2NDg5MjMsImV4cCI6MTc1ODY1MjUyM30.GxP0uT1x3KQ_Dna0QLpyOPyXE5uIZKclPqRAZpO1nKo",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "418affcd-13b5-470b-828d-d6f708e4c911",
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Vary",
              "value": "Origin, Accept-Encoding"
            },
            {
              "key": "Access-Control-Allow-Credentials",
              "value": "true"
            },
            {
              "key": "RateLimit-Policy",
              "value": "100;w=900"
            },
            {
              "key": "RateLimit-Limit",
              "value": "100"
            },
            {
              "key": "RateLimit-Remaining",
              "value": "86"
            },
            {
              "key": "RateLimit-Reset",
              "value": "893"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "320"
            },
            {
              "key": "ETag",
              "value": "W/\"140-LBC8sseiL2FsvEP+UJWjOdNTU+g\""
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:28 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              109,
              101,
              115,
              115,
              97,
              103,
              101,
              34,
              58,
              34,
              76,
              111,
              103,
              105,
              110,
              32,
              115,
              117,
              99,
              99,
              101,
              115,
              115,
              102,
              117,
              108,
              34,
              44,
              34,
              116,
              111,
              107,
              101,
              110,
              34,
              58,
              34,
              101,
              121,
              74,
              104,
              98,
              71,
              99,
              105,
              79,
              105,
              74,
              73,
              85,
              122,
              73,
              49,
              78,
              105,
              73,
              115,
              73,
              110,
              82,
              53,
              99,
              67,
              73,
              54,
              73,
              107,
              112,
              88,
              86,
              67,
              74,
              57,
              46,
              101,
              121,
              74,
              112,
              90,
              67,
              73,
              54,
              77,
              84,
              77,
              115,
              73,
              109,
              86,
              116,
              89,
              87,
              108,
              115,
              73,
              106,
              111,
              105,
              101,
              87,
              57,
              49,
              99,
              51,
              78,
              108,
              90,
              109,
              116,
              104,
              99,
              51,
              78,
              104,
              89,
              106,
              73,
              119,
              77,
              68,
              90,
              65,
              90,
              50,
              49,
              104,
              97,
              87,
              119,
              117,
              89,
              50,
              57,
              116,
              73,
              105,
              119,
              105,
              99,
              109,
              57,
              115,
              90,
              83,
              73,
              54,
              73,
              109,
              70,
              107,
              98,
              87,
              108,
              117,
              73,
              105,
              119,
              105,
              97,
              87,
              70,
              48,
              73,
              106,
              111,
              120,
              78,
              122,
              85,
              52,
              78,
              106,
              81,
              52,
              79,
              84,
              73,
              52,
              76,
              67,
              74,
              108,
              101,
              72,
              65,
              105,
              79,
              106,
              69,
              51,
              78,
              84,
              103,
              50,
              78,
              84,
              73,
              49,
              77,
              106,
              104,
              57,
              46,
              80,
              55,
              105,
              119,
              69,
              81,
              82,
              99,
              76,
              115,
              116,
              105,
              114,
              85,
              81,
              118,
              89,
              113,
              119,
              79,
              88,
              97,
              105,
              80,
              80,
              116,
              101,
              98,
              65,
              104,
              100,
              122,
              113,
              86,
              78,
              112,
              97,
              121,
              95,
              85,
              100,
              101,
              99,
              34,
              44,
              34,
              117,
              115,
              101,
              114,
              34,
              58,
              123,
              34,
              105,
              100,
              34,
              58,
              49,
              51,
              44,
              34,
              101,
              109,
              97,
              105,
              108,
              34,
              58,
              34,
              121,
              111,
              117,
              115,
              115,
              101,
              102,
              107,
              97,
              115,
              115,
              97,
              98,
              50,
              48,
              48,
              54,
              64,
              103,
              109,
              97,
              105,
              108,
              46,
              99,
              111,
              109,
              34,
              44,
              34,
              114,
              111,
              108,
              101,
              34,
              58,
              34,
              97,
              100,
              109,
              105,
              110,
              34,
              125,
              125
            ]
          },
          "cookie": [],
          "responseTime": 182,
          "responseSize": 320
        },
        "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66"
      },
      {
        "cursor": {
          "ref": "734f6cf5-63cd-4454-bc11-21317ccb1744",
          "length": 46,
          "cycles": 1,
          "position": 44,
          "iteration": 0,
          "httpRequestId": "7b9e3ae2-db89-4701-a06c-40650e520d98"
        },
        "item": {
          "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
          "name": "Admin - Mark Seen",
          "request": {
            "url": {
              "path": [
                "messages",
                "seen"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "seen"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTI4LCJleHAiOjE3NTg2NTI1Mjh9.P7iwEQRcLstirUQvYqwOXaiPPtebAhdzqVNpay_Udec",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "03f2044e-3de6-4f9e-bf69-5cef96674bba",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTI4LCJleHAiOjE3NTg2NTI1Mjh9.P7iwEQRcLstirUQvYqwOXaiPPtebAhdzqVNpay_Udec",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "bf5cf81d-dcf9-4127-bff0-1f4a5d870591",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:28 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 72
        },
        "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:45)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ed7dcfd3-b1fc-4758-a2d0-4573094588c3",
          "length": 46,
          "cycles": 1,
          "position": 45,
          "iteration": 0,
          "httpRequestId": "0d0f10c4-c19c-45f5-9e55-189b299371af"
        },
        "item": {
          "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
          "name": "Delete My Message (Any Owner)",
          "request": {
            "url": {
              "path": [
                "messages",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "3000",
            "path": [
              "api",
              "messages",
              "delete"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTI4LCJleHAiOjE3NTg2NTI1Mjh9.P7iwEQRcLstirUQvYqwOXaiPPtebAhdzqVNpay_Udec",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "77bb9671-3e2f-463f-ad07-9da617e4c0ac",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:3000",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "12",
              "system": true
            }
          ],
          "method": "DELETE",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMsImVtYWlsIjoieW91c3NlZmthc3NhYjIwMDZAZ21haWwuY29tIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU4NjQ4OTI4LCJleHAiOjE3NTg2NTI1Mjh9.P7iwEQRcLstirUQvYqwOXaiPPtebAhdzqVNpay_Udec",
                "key": "token"
              }
            ]
          }
        },
        "response": {
          "id": "def3af22-5981-4037-9104-8c07945b6aed",
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "Content-Security-Policy",
              "value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Resource-Policy",
              "value": "same-origin"
            },
            {
              "key": "Origin-Agent-Cluster",
              "value": "?1"
            },
            {
              "key": "Referrer-Policy",
              "value": "no-referrer"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=15552000; includeSubDomains"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "off"
            },
            {
              "key": "X-Download-Options",
              "value": "noopen"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Permitted-Cross-Domain-Policies",
              "value": "none"
            },
            {
              "key": "X-XSS-Protection",
              "value": "0"
            },
            {
              "key": "Content-Type",
              "value": "application/json; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "72"
            },
            {
              "key": "ETag",
              "value": "W/\"48-eykLhVFCiuOKbryM4IQeh61OZgs\""
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Date",
              "value": "Tue, 23 Sep 2025 17:35:28 GMT"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "Keep-Alive",
              "value": "timeout=5"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              123,
              34,
              101,
              114,
              114,
              111,
              114,
              34,
              58,
              34,
              85,
              110,
              101,
              120,
              112,
              101,
              99,
              116,
              101,
              100,
              32,
              116,
              111,
              107,
              101,
              110,
              32,
              39,
              125,
              39,
              44,
              32,
              92,
              34,
              123,
              92,
              110,
              32,
              32,
              92,
              34,
              105,
              100,
              92,
              34,
              58,
              32,
              92,
              110,
              125,
              92,
              34,
              32,
              105,
              115,
              32,
              110,
              111,
              116,
              32,
              118,
              97,
              108,
              105,
              100,
              32,
              74,
              83,
              79,
              78,
              34,
              125
            ]
          },
          "cookie": [],
          "responseTime": 4,
          "responseSize": 72
        },
        "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
        "assertions": [
          {
            "assertion": "Expect 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Expect 200",
              "message": "expected false to be true",
              "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:46)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 6558
    },
    "failures": [
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:26)",
          "checksum": "61912adaf4bae07a1ab728dd443ba820",
          "id": "c55c917f-710a-4519-bd81-00fcda40fc63",
          "timestamp": 1758648926005,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
          "name": "Manager - Get My Courses",
          "request": {
            "url": {
              "path": [
                "courses",
                "teacher",
                "mycourses"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                "type": "text/javascript",
                "exec": [
                  "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                  "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                ],
                "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
              }
            }
          ]
        },
        "parent": {
          "id": "04aa8ca3-bbea-4711-8120-e9388c384359",
          "name": "Courses",
          "item": [
            {
              "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
                  }
                }
              ]
            },
            {
              "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6879d865-f103-4226-be9b-039287e36d78",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
                  }
                }
              ]
            },
            {
              "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
                  }
                }
              ]
            },
            {
              "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
                  }
                }
              ]
            },
            {
              "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
                  }
                }
              ]
            },
            {
              "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
                  }
                }
              ]
            },
            {
              "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
                  }
                }
              ]
            },
            {
              "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
                  }
                }
              ]
            },
            {
              "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
                  }
                }
              ]
            },
            {
              "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
                  }
                }
              ]
            },
            {
              "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
                  }
                }
              ]
            },
            {
              "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
                  }
                }
              ]
            },
            {
              "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
                  }
                }
              ]
            },
            {
              "id": "2b560e33-261e-437e-a642-3990179f4e47",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
                  }
                }
              ]
            },
            {
              "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
                  }
                }
              ]
            },
            {
              "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
                  }
                }
              ]
            },
            {
              "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "979b75be-50fd-4ede-842b-058cfe38b56d",
          "length": 46,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b76cf765-cc48-41df-9de6-26ebf97ed140",
          "scriptId": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
          "execution": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Negative when different owner else OK",
          "message": "expected [ 404, 500 ] to include 200",
          "stack": "AssertionError: expected [ 404, 500 ] to include 200\n   at Object.eval sandbox-script.js:1:29)",
          "checksum": "acd0a7f81e3727456c1f07a3fcb9a5df",
          "id": "a957600c-5d57-4292-9e1e-abd270df8d34",
          "timestamp": 1758648926417,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 29,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
          "name": "Manager - Find Other's Course (Negative)",
          "request": {
            "url": {
              "path": [
                "courses",
                "find",
                "{{otherCourseId}}"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                ],
                "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
              }
            }
          ]
        },
        "parent": {
          "id": "04aa8ca3-bbea-4711-8120-e9388c384359",
          "name": "Courses",
          "item": [
            {
              "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
                  }
                }
              ]
            },
            {
              "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6879d865-f103-4226-be9b-039287e36d78",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
                  }
                }
              ]
            },
            {
              "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
                  }
                }
              ]
            },
            {
              "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
                  }
                }
              ]
            },
            {
              "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
                  }
                }
              ]
            },
            {
              "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
                  }
                }
              ]
            },
            {
              "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
                  }
                }
              ]
            },
            {
              "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
                  }
                }
              ]
            },
            {
              "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
                  }
                }
              ]
            },
            {
              "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
                  }
                }
              ]
            },
            {
              "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
                  }
                }
              ]
            },
            {
              "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
                  }
                }
              ]
            },
            {
              "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
                  }
                }
              ]
            },
            {
              "id": "2b560e33-261e-437e-a642-3990179f4e47",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
                  }
                }
              ]
            },
            {
              "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
                  }
                }
              ]
            },
            {
              "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
                  }
                }
              ]
            },
            {
              "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "98afd530-d8a3-45aa-90ae-35a191297a3a",
          "length": 46,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "f5828553-be53-40b7-936c-e8f1ea7c6226",
          "scriptId": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
          "execution": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200/404/500",
          "message": "expected [ 200, 404, 500 ] to include 403",
          "stack": "AssertionError: expected [ 200, 404, 500 ] to include 403\n   at Object.eval sandbox-script.js:1:34)",
          "checksum": "a63cda487cc4332d470974b39d5e92c9",
          "id": "edc805ab-2939-4f24-8b91-8f1b9b945361",
          "timestamp": 1758648926892,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 34,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
          "name": "Admin - Delete Any Course",
          "request": {
            "url": {
              "path": [
                "courses",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{otherCourseId}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
              }
            }
          ]
        },
        "parent": {
          "id": "04aa8ca3-bbea-4711-8120-e9388c384359",
          "name": "Courses",
          "item": [
            {
              "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
                  }
                }
              ]
            },
            {
              "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6879d865-f103-4226-be9b-039287e36d78",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
                  }
                }
              ]
            },
            {
              "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
                  }
                }
              ]
            },
            {
              "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
                  }
                }
              ]
            },
            {
              "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
                  }
                }
              ]
            },
            {
              "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
                  }
                }
              ]
            },
            {
              "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
                  }
                }
              ]
            },
            {
              "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
                  }
                }
              ]
            },
            {
              "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
                  }
                }
              ]
            },
            {
              "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
                  }
                }
              ]
            },
            {
              "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
                  }
                }
              ]
            },
            {
              "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
                  }
                }
              ]
            },
            {
              "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
                  }
                }
              ]
            },
            {
              "id": "2b560e33-261e-437e-a642-3990179f4e47",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
                  }
                }
              ]
            },
            {
              "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
                  }
                }
              ]
            },
            {
              "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
                  }
                }
              ]
            },
            {
              "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "0546ba7b-f67f-43a2-a305-3cc66adcf357",
          "length": 46,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "1c66611f-76f9-4c40-a970-15379450ef81",
          "scriptId": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
          "execution": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:36)",
          "checksum": "618e2fd748bd6df8b5cf1ed4f100ae65",
          "id": "dec4a5b3-005f-4668-a6a5-6b21cee57f6e",
          "timestamp": 1758648927095,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 36,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
          "name": "Create Tag (Manager/Admin)",
          "request": {
            "url": {
              "path": [
                "courses",
                "tag"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
              }
            }
          ]
        },
        "parent": {
          "id": "04aa8ca3-bbea-4711-8120-e9388c384359",
          "name": "Courses",
          "item": [
            {
              "id": "a91799d5-f36f-4dfe-9bc0-3c9272c952df",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "b4e28825-94c6-4947-b938-33709d3387a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "5e521892-cffd-4eb0-b99d-e4a3d86d6b18"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "327e4bc0-0310-4025-9606-99f80f0ca19a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "11277f3b-fb1c-4ef3-a23d-1e031a293a1e"
                  }
                }
              ]
            },
            {
              "id": "3420b742-1c0d-42cb-b707-c7625de6516f",
              "name": "Public - Get All Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6879d865-f103-4226-be9b-039287e36d78",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Response is array', function(){ var resp = pm.response.json(); pm.expect(Array.isArray(resp)).to.be.true; });"
                    ],
                    "_lastExecutionId": "d69e5692-ab1d-4e1d-8ee1-152847673900"
                  }
                }
              ]
            },
            {
              "id": "5654bc30-6ead-4e6a-b342-f8638c2959f7",
              "name": "Manager - Create Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Course {{$randomInt}}\",\n  \"description\": \"Desc\",\n  \"price\": 49.99,\n  \"tags\": [1,2]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e272bbee-029b-422c-b776-e5bf54406b2f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (role mismatch)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "8e942de7-4457-40e3-b46f-a23274c012c2"
                  }
                }
              ]
            },
            {
              "id": "17c5bbc2-4ce0-48cc-89ce-83e0e4958ffe",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "7e6c98af-b519-43b4-847c-13cf90b8b28e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "fbb0471f-9dc6-44ef-a9b6-ebcc9b3197a9"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb807e2-1871-4cda-b46f-903db1b1e379",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "4cb6b3c7-9c24-4227-9bc5-098960f80106"
                  }
                }
              ]
            },
            {
              "id": "6351344d-f0d1-4d63-9075-677260f89e1e",
              "name": "Admin - Create Course for Teacher",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "create"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Admin Course {{$randomInt}}\",\n  \"description\": \"Admin Desc\",\n  \"price\": 99.99,\n  \"teacher_id\": {{managerId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f092a2bf-7dc2-4896-8faa-dc6224aa6315",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Created 201 or 403 (admin can create for teacher)', function(){ pm.expect([201,403]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "50f0b06a-1b07-4e3f-ac50-120e90ba2981"
                  }
                }
              ]
            },
            {
              "id": "0aeb03a2-3a37-4ef0-8b37-73f29be06041",
              "name": "Switch -> Manager",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "cb0078a4-adb5-4f15-a807-5b32325625aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));"
                    ],
                    "_lastExecutionId": "c2f9cc11-9fb4-4d82-a69e-895c490d5a9f"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "45271d56-ba55-48bb-8c2f-3cd000584b55",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3550b2b2-c176-46f4-b003-d3d79a7322c5"
                  }
                }
              ]
            },
            {
              "id": "10a3c4a3-6bb6-46cd-a9e0-6957e5d23106",
              "name": "Manager - Get My Courses",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "teacher",
                    "mycourses"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a158cd5e-9c85-4408-98bd-29d2d28c0220",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('managerToken'));",
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });",
                      "pm.test('Capture myCourseId owned by manager', function(){ var arr = pm.response.json(); if(Array.isArray(arr)){ var mid = pm.environment.get('managerId'); var mine = arr.find(c => String(c.teacher_id) === String(mid)); if(mine){ pm.environment.set('myCourseId', mine.id); } } });"
                    ],
                    "_lastExecutionId": "47ad9107-bb03-40bd-8c01-3f95eefa0eac"
                  }
                }
              ]
            },
            {
              "id": "0ed2be03-1ceb-461e-a3b9-4b17ae7cafec",
              "name": "Pick Other Course (teacher_id != managerId)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "all"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cd0807c-7761-433a-9535-90f7cc24e31e",
                    "type": "text/javascript",
                    "exec": [
                      "var list = pm.response.json(); if(Array.isArray(list)){ var mid = pm.environment.get('managerId'); var other = list.find(c=>String(c.teacher_id)!==String(mid)); if(other){ pm.environment.set('otherCourseId', other.id); } }"
                    ],
                    "_lastExecutionId": "b50095a3-5975-44e8-8dbf-501fc9c2a463"
                  }
                }
              ]
            },
            {
              "id": "5f336437-7fb4-4678-9831-b516b5d94bdc",
              "name": "Manager - Find Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{myCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7988610-d8e6-48b3-87a9-dba8fcbbd29a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Own course lookup behaves', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([404,400]).to.include(pm.response.code); } });",
                      "pm.test('Has id when myCourseId is set', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ var j = pm.response.json(); pm.expect(j).to.have.property('id'); } });"
                    ],
                    "_lastExecutionId": "30dbcc3e-b759-44d3-aa4c-bb2096158172"
                  }
                }
              ]
            },
            {
              "id": "69f19cef-43b5-4503-a1d1-78dbe365442d",
              "name": "Manager - Find Other's Course (Negative)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "find",
                    "{{otherCourseId}}"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "41d8e82e-0b7e-4574-9b10-8e4e54068fcc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Negative when different owner else OK', function(){ var code=pm.response.code; var other=pm.environment.get('otherCourseId'); var mine=pm.environment.get('myCourseId'); if(other && other!==mine){ pm.expect([404,500]).to.include(code); } else { pm.expect([200,404,500]).to.include(code); } });"
                    ],
                    "_lastExecutionId": "4c42a4b5-7378-4999-9aaa-96a32354c90b"
                  }
                }
              ]
            },
            {
              "id": "0acdb128-06cf-4223-b38c-0a182fc15eb1",
              "name": "Manager - Update Course (Fields)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"name\": \"Updated Name\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fc923dbb-5763-40d7-8d71-118c3491acdc",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update fields on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "19be9915-037e-4e10-b169-125d1e696af6"
                  }
                }
              ]
            },
            {
              "id": "493ac20d-a7f1-49f1-b74f-a05481e28ea5",
              "name": "Manager - Update Course (Tags Only)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}},\n  \"tags\": [1,3,5]\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2b44fa26-fce2-448e-aeb0-6f6cdb3907c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Update tags on own course', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.response.to.have.status(200); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "d0c85330-eed0-44b1-a1b7-c1b4be1555ba"
                  }
                }
              ]
            },
            {
              "id": "4bd5784c-a9fb-40f6-93d9-2114d1665dab",
              "name": "Manager - Delete Own Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{myCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7cc7e07d-6eaa-46f4-a62a-3c989d9ae0dd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Delete own course (requires id)', function(){ var hasId = !!pm.environment.get('myCourseId'); if(hasId){ pm.expect([200,404]).to.include(pm.response.code); } else { pm.expect([400,404]).to.include(pm.response.code); } });"
                    ],
                    "_lastExecutionId": "cd700d5e-a38e-4ce8-8701-6c8a4b7837b1"
                  }
                }
              ]
            },
            {
              "id": "2b560e33-261e-437e-a642-3990179f4e47",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "e55d7a82-27e3-43c0-88d2-ed0e427a8855",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "afd5e5c3-40bc-48da-9b30-e3897b89cb5b"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "e146e3a3-8acb-4648-b597-908c5725ef71",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "3c29de98-4a49-4b85-a941-8f0f01e5983b"
                  }
                }
              ]
            },
            {
              "id": "dbf0ef8f-c4f6-4cde-b15b-e8f86b492b09",
              "name": "Admin - Delete Any Course",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{otherCourseId}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2f552727-6b2e-4131-a63b-f86c6dc2e99a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200/404/500', function(){ pm.expect([200,404,500]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "2e41bcd5-f4ed-421b-9975-53d9f606907a"
                  }
                }
              ]
            },
            {
              "id": "868b1de2-7bab-4147-9250-c1b765f4078f",
              "name": "Get Tags",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tags"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4ddb4c88-1408-44a5-9c50-4853e13b7daf",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "31cdd304-90f3-42ce-8f8c-a523a9508a03"
                  }
                }
              ]
            },
            {
              "id": "a7e84eae-a9ab-4e6e-95a8-9f0e4ba48101",
              "name": "Create Tag (Manager/Admin)",
              "request": {
                "url": {
                  "path": [
                    "courses",
                    "tag"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Tag{{$randomInt}}_{{$timestamp}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "55525b27-d5a2-402e-9d10-e5741161c452",
          "length": 46,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "7ab4a277-1e71-40af-b562-44abcd4d1802",
          "scriptId": "3265ec29-e21c-4563-9fdd-a1f5302a1cd6",
          "execution": "9ea53af5-c77d-4e8b-beda-f403a97b1cb6"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 403",
          "stack": "AssertionError: expected response to have status code 200 but got 403\n   at Object.eval sandbox-script.js:1:40)",
          "checksum": "78d18b5623208ade7bdf41872de05000",
          "id": "b37430eb-a3a7-42ba-94ef-1594f8c3ffad",
          "timestamp": 1758648927651,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 40,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
          "name": "Admin - Get All Messages",
          "request": {
            "url": {
              "path": [
                "messages",
                "receiveAll"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d9698049-4353-402b-84e9-55210705cd46",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
              }
            }
          ]
        },
        "parent": {
          "id": "871b282a-eac9-43a7-9795-83cfb735c7a5",
          "name": "Messages",
          "item": [
            {
              "id": "62871daa-4189-4abd-8169-7adbae921d86",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
                  }
                }
              ]
            },
            {
              "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
                  }
                }
              ]
            },
            {
              "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
                  }
                }
              ]
            },
            {
              "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d9698049-4353-402b-84e9-55210705cd46",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
                  }
                }
              ]
            },
            {
              "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
                  }
                }
              ]
            },
            {
              "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
                  }
                }
              ]
            },
            {
              "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
                  }
                }
              ]
            },
            {
              "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
                  }
                }
              ]
            },
            {
              "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
                  }
                }
              ]
            },
            {
              "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "83974679-7c70-48ad-8b67-23f8a480dc63",
          "length": 46,
          "cycles": 1,
          "position": 39,
          "iteration": 0,
          "httpRequestId": "55e1569b-4ed7-48da-8bd0-0a5869e52825",
          "scriptId": "d9698049-4353-402b-84e9-55210705cd46",
          "execution": "17d978e3-ba91-40bd-a121-2ed872f43832"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:43)",
          "checksum": "a559f4cf1ee287787b27dd39b48725eb",
          "id": "e5018d87-c74f-4d9c-8225-dc4405c2b2d1",
          "timestamp": 1758648928021,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 43,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
          "name": "Update My Message",
          "request": {
            "url": {
              "path": [
                "messages",
                "update"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
              }
            }
          ]
        },
        "parent": {
          "id": "871b282a-eac9-43a7-9795-83cfb735c7a5",
          "name": "Messages",
          "item": [
            {
              "id": "62871daa-4189-4abd-8169-7adbae921d86",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
                  }
                }
              ]
            },
            {
              "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
                  }
                }
              ]
            },
            {
              "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
                  }
                }
              ]
            },
            {
              "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d9698049-4353-402b-84e9-55210705cd46",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
                  }
                }
              ]
            },
            {
              "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
                  }
                }
              ]
            },
            {
              "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
                  }
                }
              ]
            },
            {
              "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
                  }
                }
              ]
            },
            {
              "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
                  }
                }
              ]
            },
            {
              "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
                  }
                }
              ]
            },
            {
              "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "2946367b-ea12-48e0-9129-21701ed48153",
          "length": 46,
          "cycles": 1,
          "position": 42,
          "iteration": 0,
          "httpRequestId": "a175e3cc-a0a5-4e12-b099-b8001d6dc67d",
          "scriptId": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
          "execution": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:45)",
          "checksum": "4a98a8b0b717c2fe1e3def3c20740589",
          "id": "fd21832e-19cf-469b-aed7-86f4725b3fee",
          "timestamp": 1758648928348,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 45,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
          "name": "Admin - Mark Seen",
          "request": {
            "url": {
              "path": [
                "messages",
                "seen"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                ],
                "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
              }
            }
          ]
        },
        "parent": {
          "id": "871b282a-eac9-43a7-9795-83cfb735c7a5",
          "name": "Messages",
          "item": [
            {
              "id": "62871daa-4189-4abd-8169-7adbae921d86",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
                  }
                }
              ]
            },
            {
              "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
                  }
                }
              ]
            },
            {
              "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
                  }
                }
              ]
            },
            {
              "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d9698049-4353-402b-84e9-55210705cd46",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
                  }
                }
              ]
            },
            {
              "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
                  }
                }
              ]
            },
            {
              "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
                  }
                }
              ]
            },
            {
              "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
                  }
                }
              ]
            },
            {
              "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
                  }
                }
              ]
            },
            {
              "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
                  }
                }
              ]
            },
            {
              "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "734f6cf5-63cd-4454-bc11-21317ccb1744",
          "length": 46,
          "cycles": 1,
          "position": 44,
          "iteration": 0,
          "httpRequestId": "7b9e3ae2-db89-4701-a06c-40650e520d98",
          "scriptId": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
          "execution": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Expect 200",
          "message": "expected false to be true",
          "stack": "AssertionError: expected false to be true\n   at Object.eval sandbox-script.js:1:46)",
          "checksum": "b79e576aa3e44f5b5fad19820ae3c756",
          "id": "a26e4055-15d9-4b5e-94d4-157fb54f65fa",
          "timestamp": 1758648928434,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 46,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
          "name": "Delete My Message (Any Owner)",
          "request": {
            "url": {
              "path": [
                "messages",
                "delete"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{messageIdMine}}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                ],
                "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
              }
            }
          ]
        },
        "parent": {
          "id": "871b282a-eac9-43a7-9795-83cfb735c7a5",
          "name": "Messages",
          "item": [
            {
              "id": "62871daa-4189-4abd-8169-7adbae921d86",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "4aa5e921-d290-4298-b9f6-a3337daec257",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "0d09ba7e-da74-4635-a796-25dd8204798d"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "673356d1-a35f-4aeb-ac55-8c15bb9a3369",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "ccf19657-03e2-4847-82c2-71d78acefdbb"
                  }
                }
              ]
            },
            {
              "id": "076f0fd2-6239-4627-b2bd-e32bfb3a59b8",
              "name": "Send Message (as logged-in user)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "send"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"senderEmail\": \"{{userEmail}}\",\n  \"content\": \"Hello from my account\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4208da81-fa53-46da-afdb-5d49f0fc29aa",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', function(){ pm.response.to.have.status(201); });",
                      "var j=pm.response.json(); if(j && j.id){ pm.environment.set('messageIdMine', j.id); }"
                    ],
                    "_lastExecutionId": "6d171edc-90e8-44da-b534-8317c402b157"
                  }
                }
              ]
            },
            {
              "id": "baf2a2a2-62f2-48f6-a097-96fa1bedfecc",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "36089bfe-45a1-4465-a3ac-f125de40e7c8",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('adminToken'));"
                    ],
                    "_lastExecutionId": "906e22a9-9e21-4d69-8ed2-d930e0b0964a"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c63cec-fbe1-4d0e-83e1-e4aa5f301405",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c019b837-9fc9-48a4-bf29-0599ce127279"
                  }
                }
              ]
            },
            {
              "id": "46c03177-350e-4e20-8c5f-6f3bed8d1a43",
              "name": "Admin - Get All Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "receiveAll"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d9698049-4353-402b-84e9-55210705cd46",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "17d978e3-ba91-40bd-a121-2ed872f43832"
                  }
                }
              ]
            },
            {
              "id": "eb4ff1c1-3c08-4533-a08e-c82c47b0080e",
              "name": "Switch -> User",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "user"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "53818fe1-946c-4568-8a0e-b9abbaa3fc87",
                    "type": "text/javascript",
                    "exec": [
                      "pm.collectionVariables.set('authToken', pm.environment.get('userToken'));"
                    ],
                    "_lastExecutionId": "07c6d796-021d-4d32-af3e-62dcf56fa4a7"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "bc9dc72a-5357-416e-98d8-ad1468c97581",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', ()=>pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "143179ce-688e-4b1d-8b94-3769bcd9c417"
                  }
                }
              ]
            },
            {
              "id": "90b8c9fe-3890-4128-a6dd-dfc7961b1ef1",
              "name": "My Messages",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "MyMessages"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4b04fa3b-50df-4c4c-8829-1178ca97ace4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "1115d4bb-f693-430f-b3f1-96cce7dcdae8"
                  }
                }
              ]
            },
            {
              "id": "f9ee46fd-5e9e-4c7f-b94e-be61eef80fe7",
              "name": "Update My Message",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "update"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}},\n  \"content\": \"Updated content\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1028fb4d-a488-48cb-a2bb-66aa018b335c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "4b2f449f-7153-473f-8f67-d32bd3a96acd"
                  }
                }
              ]
            },
            {
              "id": "3b399ed5-0182-41ea-a6b2-7b8fbb0f5a66",
              "name": "Switch -> Admin",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "login"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a37c95ae-4a35-4221-8c58-500f54b66c26",
                    "type": "text/javascript",
                    "exec": [
                      "var j=pm.response.json(); pm.collectionVariables.set('authToken', j.token); pm.environment.set('authToken', j.token);"
                    ],
                    "_lastExecutionId": "0c26e87b-71dd-4e18-9f0b-c8cb6ac5ae83"
                  }
                }
              ]
            },
            {
              "id": "05dc3300-c481-46a4-91f2-0a830b6ce88c",
              "name": "Admin - Mark Seen",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "seen"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2e79a8a1-3ee8-4ea6-b968-86df069e3951",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.response.to.have.status(200); });"
                    ],
                    "_lastExecutionId": "a40c8a5b-5fc3-4651-8b82-ebb33a77aedd"
                  }
                }
              ]
            },
            {
              "id": "e9b91b19-406c-4fa9-8452-502b2e0bda79",
              "name": "Delete My Message (Any Owner)",
              "request": {
                "url": {
                  "path": [
                    "messages",
                    "delete"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": {{messageIdMine}}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Expect 200', function(){ var id = pm.environment.get('messageIdMine'); pm.expect(typeof id === 'number' && id > 0).to.be.true; pm.expect([200,404]).to.include(pm.response.code); });"
                    ],
                    "_lastExecutionId": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ed7dcfd3-b1fc-4758-a2d0-4573094588c3",
          "length": 46,
          "cycles": 1,
          "position": 45,
          "iteration": 0,
          "httpRequestId": "0d0f10c4-c19c-45f5-9e55-189b299371af",
          "scriptId": "61ded3d6-3d4d-4daa-a4ac-670a84d45408",
          "execution": "da223b7f-2e7b-448e-8f22-66385a53c3cd"
        }
      }
    ],
    "error": null
  }
}